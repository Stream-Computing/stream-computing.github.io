<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-希姆计算软件产品/STCRP使用指南/HPE使用指南" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">HPE使用指南 | 文档中心</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/docs/希姆计算软件产品/STCRP使用指南/HPE使用指南"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="HPE使用指南 | 文档中心"><meta data-rh="true" name="description" content="HPE概述"><meta data-rh="true" property="og:description" content="HPE概述"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/docs/希姆计算软件产品/STCRP使用指南/HPE使用指南"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/docs/希姆计算软件产品/STCRP使用指南/HPE使用指南" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/docs/希姆计算软件产品/STCRP使用指南/HPE使用指南" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"HPE使用指南","item":"https://your-docusaurus-site.example.com/docs/希姆计算软件产品/STCRP使用指南/HPE使用指南"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="文档中心 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="文档中心 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.59b7a052.css">
<script src="/assets/js/runtime~main.462312d6.js" defer="defer"></script>
<script src="/assets/js/main.3e5567e0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/stc_logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/stc_logo.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/stc_logo.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">STC DOCS HUB</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">文档</a><a class="navbar__item navbar__link" href="/blog">动态</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://www.streamcomputing.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">希姆计算<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro"><span title="Tutorial Intro" class="linkLabel_WmDU">Tutorial Intro</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/tutorial---basics"><span title="Tutorial - Basics" class="categoryLinkLabel_W154">Tutorial - Basics</span></a><button aria-label="Expand sidebar category &#x27;Tutorial - Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/tutorial---extras"><span title="Tutorial - Extras" class="categoryLinkLabel_W154">Tutorial - Extras</span></a><button aria-label="Expand sidebar category &#x27;Tutorial - Extras&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/希姆计算产品运维/k8s-device-plugin使用指南"><span title="希姆计算产品运维" class="categoryLinkLabel_W154">希姆计算产品运维</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/希姆计算介绍"><span title="希姆计算" class="linkLabel_WmDU">希姆计算</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/希姆计算开发者资源/C++ API"><span title="希姆计算开发者资源" class="categoryLinkLabel_W154">希姆计算开发者资源</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/希姆计算术语表"><span title="希姆计算术语表" class="linkLabel_WmDU">希姆计算术语表</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/希姆计算硬件产品/STCP920产品手册"><span title="希姆计算硬件产品" class="categoryLinkLabel_W154">希姆计算硬件产品</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/希姆计算解决方案/希姆算力云平台解决方案"><span title="希姆计算解决方案" class="categoryLinkLabel_W154">希姆计算解决方案</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/希姆计算软件产品/Firmware Release Notes"><span title="希姆计算软件产品" class="categoryLinkLabel_W154">希姆计算软件产品</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/希姆计算软件产品/Firmware Release Notes"><span title="Firmware Release Notes" class="linkLabel_WmDU">Firmware Release Notes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/希姆计算软件产品/STCRP Release Notes"><span title="STCRP Release Notes" class="linkLabel_WmDU">STCRP Release Notes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/希姆计算软件产品/STCRP产品简介"><span title="STCRP产品简介" class="linkLabel_WmDU">STCRP产品简介</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/希姆计算软件产品/STCRP使用指南/HPE使用指南"><span title="STCRP使用指南" class="categoryLinkLabel_W154">STCRP使用指南</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/希姆计算软件产品/STCRP使用指南/HPE使用指南"><span title="HPE使用指南" class="linkLabel_WmDU">HPE使用指南</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/希姆计算软件产品/STCRP使用指南/MLTC使用指南"><span title="MLTC使用指南" class="linkLabel_WmDU">MLTC使用指南</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/希姆计算软件产品/STCRP使用指南/STC_LLM使用指南"><span title="STC_LLM使用指南" class="linkLabel_WmDU">STC_LLM使用指南</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/希姆计算软件产品/STCRP使用指南/npu-exporter使用说明"><span title="npu-exporter使用说明" class="linkLabel_WmDU">npu-exporter使用说明</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/希姆计算软件产品/STCRP使用指南/stcqual使用指南"><span title="stcqual使用指南" class="linkLabel_WmDU">stcqual使用指南</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/希姆计算软件产品/STCRP安装指南"><span title="STCRP安装指南" class="linkLabel_WmDU">STCRP安装指南</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/希姆计算软件产品/固件更新指南"><span title="固件更新指南" class="linkLabel_WmDU">固件更新指南</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">希姆计算软件产品</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">STCRP使用指南</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">HPE使用指南</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>HPE使用指南</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hpe概述">HPE概述<a href="#hpe概述" class="hash-link" aria-label="Direct link to HPE概述" title="Direct link to HPE概述" translate="no">​</a></h2>
<p>HPE（Heterogeneous Programming Engine）是面向希姆计算硬件产品的异构编程环境，包括驱动、运行时、监控调试工具等模块，在CPU+NPU的异构环境中提供了服务器识别NPU以及完成NPU基本操作的能力。</p>
<p>HPE支持通过C++语言扩展接口开发异构程序，如果您有使用Python语言扩展接口开发异构程序的需求，请独立安装HPE-Python。异构程序包括在CPU上运行的主机端程序和在NPU上运行的设备端程序，HPE为开发、编译、运行主机端程序和设备端程序提供了完整的工具链。</p>
<p>HPE使用指南介绍了HPE监控调试工具的使用方法。如需了解异构程序的编写方式，请参见<a href="https://docs.streamcomputing.com/_/sharing/vSxLMI20nalGphdpXdEVoDg6JkUcfEkT?next=/zh/latest/" target="_blank" rel="noopener noreferrer">STCRP开发指南</a>。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="前提条件">前提条件<a href="#前提条件" class="hash-link" aria-label="Direct link to 前提条件" title="Direct link to 前提条件" translate="no">​</a></h2>
<ul>
<li>已安装异构编程环境HPE，具体操作，请参见<a href="https://docs.streamcomputing.com/_/sharing/vSxLMI20nalGphdpXdEVoDg6JkUcfEkT?next=/zh/latest/" target="_blank" rel="noopener noreferrer">STCRP安装指南</a>。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用hpe-example体验异构编程">使用hpe-example体验异构编程<a href="#使用hpe-example体验异构编程" class="hash-link" aria-label="Direct link to 使用hpe-example体验异构编程" title="Direct link to 使用hpe-example体验异构编程" translate="no">​</a></h2>
<p>为了方便您体验希姆计算异构编程环境中执行程序的效果，HPE中提供了若干示例程序（下文中简称为hpe-example）。在安装HPE后，hpe-example位于/usr/local/hpe/example下。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ls /usr/local/hpe/example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c++11_hpe.hc                  exclusive_devices_fifo.hc    kernel_parall_device.hc   matrix_multiply.hc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">common_test.h                 exclusive_devices_stream.hc  kernel_parall_devices.hc  memcpy_global.hc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">concurrent_kernels.hc         hello_world.hc               kernel_permanent.hc       memcpy_local.hc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">concurrent_module_kernels.hc  highmem.hc                   kernel_serial.hc          memcpy_shared.hc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device                        host_device_kernel.hc        Makefile                  txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device_attribute.hc           kernel_dependency.hc         matrix_convolution.hc</span><br></span></code></pre></div></div>
<p>hpe-example涵盖了以下几类异构编程的典型操作：</p>
<ul>
<li>基本语法：c++11_hpe.hc、host_device_kernel.hc</li>
<li>获取设备信息：device_attribute.hc、hello_world.hc</li>
<li>调用核函数：kernel_dependency.hc、kernel_parall_device.hc、kernel_parall_devices.hc、kernel_permanent.hc、kernel_serial.hc</li>
<li>使用stream：exclusive_devices_stream.hc</li>
<li>使用fifo：exclusive_devices_fifo.hc</li>
<li>并发执行：concurrent_kernels.hc、concurrent_module_kernels.hc</li>
<li>数据传输：highmem.hc、memcpy_global.hc 、memcpy_local.hc、memcpy_shared.hc</li>
<li>单独设备端程序：device下的hello.hc、kernel_fifo.hc、kernel.hc、kernel_sum.hc</li>
<li>数学计算：matrix_convolution.hc、matrix_multiply.hc</li>
</ul>
<p>各源文件的功能描述如下：</p>
<table><thead><tr><th><strong>源文件名称</strong></th><th><strong>功能描述</strong></th></tr></thead><tbody><tr><td>c++11_hpe.hc</td><td>使用HPE API（C++11）统计txt文件中x/y/z/w字符的数量。</td></tr><tr><td>common_test.h</td><td>示例异构程序需要的一些通用声明。</td></tr><tr><td>concurrent_kernels.hc</td><td>演示并发执行时stream的用法，并介绍如何使用stcStreamWaitEvent函数同步有依赖关系的HPE stream。</td></tr><tr><td>concurrent_module_kernels.hc</td><td>演示使用目标程序模块相关的Runtime API。</td></tr><tr><td>device</td><td>包括在希姆计算NPU上执行的设备端核函数示例：<br>hello.hc：调用printf（NPURT API）在主机端打印设备信息。<br>kernel_fifo.hc：演示在设备端调用fifo_push和fifo_pop（NPURT API）。<br>kernel.hc：演示简单的带参数设备端函数。<br>kernel_sum.hc：演示简单的带参数设备端函数，实现elementwise加法。</td></tr><tr><td>device_attribute.hc</td><td>获取一个设备的属性信息。</td></tr><tr><td>exclusive_devices_fifo.hc</td><td>调用NPU API通过核函数参数演示fifo的用法。</td></tr><tr><td>exclusive_devices_stream.hc</td><td>调用printf（NPU API）在主机端打印设备信息，并调用NPU API通过核函数参数演示stream的用法。</td></tr><tr><td>hello_world.hc</td><td>调用printf（NPU API）在主机端打印设备信息。</td></tr><tr><td>highmem.hc</td><td>调用memcpy（NPURT API）从shared memory向global high memory（高端内存，3GiB ~ 4GiB范围）传输数据。</td></tr><tr><td>host_device_kernel.hc</td><td>同时在设备端和主机端代码中调用双边函数（同时用__host__和__device__修饰的函数）。</td></tr><tr><td>kernel_dependency.hc</td><td>调用两个stream中有依赖关系的核函数，并打印core 0中的信息。</td></tr><tr><td>kernel_parall_device.hc</td><td>在一个设备中并行调用核函数，并打印core 0中的信息。streamID用作parallelID，parallelID相同的核函数串行执行，在硬件资源充足时parallelID不同的核函数并行执行。</td></tr><tr><td>kernel_parall_devices.hc</td><td>在两个设备中并行调用两个核函数。</td></tr><tr><td>kernel_permanent.hc</td><td>调用stcFifo*（Runtime API）、fifo_*（NPURT API）向permanent核函数传输数据。</td></tr><tr><td>kernel_serial.hc</td><td>串行调用一个stream中的核函数，并打印core 0中的信息。</td></tr><tr><td>Makefile</td><td>编译/usr/local/hpe/example下的异构程序。</td></tr><tr><td>matrix_convolution.hc</td><td>使用内部指令完成矩阵卷积计算。</td></tr><tr><td>matrix_multiply.hc</td><td>使用内部指令完成矩阵乘计算。</td></tr><tr><td>memcpy_global.hc</td><td>调用memcpy（NPURT API）从global/local memory向global memory传输数据。</td></tr><tr><td>memcpy_local.hc</td><td>调用memcpy（NPURT API）从global memory向local memory传输数据。</td></tr><tr><td>memcpy_shared.hc</td><td>调用memcpy（NPURT API）从global/local memory向shared memory传输数据。</td></tr><tr><td>txt</td><td>包括一个war_and_peace.txt文件，供c++11_hpe.hc统计x/y/z/w字符的数量。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="执行hpe-example">执行hpe-example<a href="#执行hpe-example" class="hash-link" aria-label="Direct link to 执行hpe-example" title="Direct link to 执行hpe-example" translate="no">​</a></h3>
<ol>
<li>
<p>进入/usr/local/hpe/example文件夹，并编译hpe-example。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cd /usr/local/hpe/example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ make</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 c++11_hpe.hc --rtlib=compiler-rt -o c++11_hpe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 concurrent_kernels.hc --rtlib=compiler-rt -o concurrent_kernels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 concurrent_module_kernels.hc --rtlib=compiler-rt -o concurrent_module_kernels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 device_attribute.hc --rtlib=compiler-rt -o device_attribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 exclusive_devices_fifo.hc --rtlib=compiler-rt -o exclusive_devices_fifo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 exclusive_devices_stream.hc --rtlib=compiler-rt -o exclusive_devices_stream</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 hello_world.hc --rtlib=compiler-rt -o hello_world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 highmem.hc --rtlib=compiler-rt -o highmem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 host_device_kernel.hc --rtlib=compiler-rt -o host_device_kernel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 kernel_dependency.hc --rtlib=compiler-rt -o kernel_dependency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 kernel_parall_device.hc --rtlib=compiler-rt -o kernel_parall_device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 kernel_parall_devices.hc --rtlib=compiler-rt -o kernel_parall_devices</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 kernel_permanent.hc --rtlib=compiler-rt -o kernel_permanent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 kernel_serial.hc --rtlib=compiler-rt -o kernel_serial</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 matrix_convolution.hc --rtlib=compiler-rt -o matrix_convolution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 matrix_multiply.hc --rtlib=compiler-rt -o matrix_multiply</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 memcpy_global.hc --rtlib=compiler-rt -o memcpy_global</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 memcpy_local.hc --rtlib=compiler-rt -o memcpy_local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stcc -DNCORE=8 memcpy_shared.hc --rtlib=compiler-rt -o memcpy_shared</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stc-clang -DNCORE=8 --shc-device-only device/hello.hc -c -o device/hello.o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stc-clang -DNCORE=8 --shc-device-only device/kernel_fifo.hc -c -o device/kernel_fifo.o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stc-clang -DNCORE=8 --shc-device-only device/kernel.hc -c -o device/kernel.o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stc-clang -DNCORE=8 --shc-device-only device/kernel_sum.hc -c -o device/kernel_sum.o</span><br></span></code></pre></div></div>
</li>
<li>
<p>执行示例程序，以c++11_hpe和hello_world为例。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./c++11_hpe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">get file path: ./txt/war_and_peace.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">running kernel_count_xyzw_frequency......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Read 3223503 byte corpus from ./txt/war_and_peace.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">counted 107310 instances of &#x27;x&#x27;, &#x27;y&#x27;, &#x27;z&#x27;, or &#x27;w&#x27; in &quot;./txt/war_and_peace.txt&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./hello_world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">running hello_world......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 0/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 1/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 2/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 3/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 4/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 5/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 6/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 7/8.</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hpe-example执行效果">hpe-example执行效果<a href="#hpe-example执行效果" class="hash-link" aria-label="Direct link to hpe-example执行效果" title="Direct link to hpe-example执行效果" translate="no">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="c11_hpe">c++11_hpe<a href="#c11_hpe" class="hash-link" aria-label="Direct link to c++11_hpe" title="Direct link to c++11_hpe" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./c++11_hpe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">get file path: ./txt/war_and_peace.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">running kernel_count_xyzw_frequency......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Read 3223503 byte corpus from ./txt/war_and_peace.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">counted 107310 instances of &#x27;x&#x27;, &#x27;y&#x27;, &#x27;z&#x27;, or &#x27;w&#x27; in &quot;./txt/war_and_peace.txt&quot;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="concurrent_kernels">concurrent_kernels<a href="#concurrent_kernels" class="hash-link" aria-label="Direct link to concurrent_kernels" title="Direct link to concurrent_kernels" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./concurrent_kernels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nstreams: 9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 3.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 5.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 6.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 7.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 7.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 2.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel sum output result 38.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Measured time for example = 0.077s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: npu sum: 38, cpu_sum: 38 expect equal</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="concurrent_module_kernels">concurrent_module_kernels<a href="#concurrent_module_kernels" class="hash-link" aria-label="Direct link to concurrent_module_kernels" title="Direct link to concurrent_module_kernels" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./concurrent_module_kernels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nstreams: 9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">get file path: ./device/kernel_sum.o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 2.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 4.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 6.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 6.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 7.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID -5.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 2.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel sum output result 22.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Measured time for example = 0.078s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: npu sum: 22, cpu_sum: 22 expect equal</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="device">device<a href="#device" class="hash-link" aria-label="Direct link to device" title="Direct link to device" translate="no">​</a></h4>
<p>单独编译的设备端程序需要在主机端程序读入后执行，编写主机端程序的例子，请参见<a href="https://docs.streamcomputing.com/_/sharing/vSxLMI20nalGphdpXdEVoDg6JkUcfEkT?next=/zh/latest/" target="_blank" rel="noopener noreferrer">STCRP开发指南</a>。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="device_attribute">device_attribute<a href="#device_attribute" class="hash-link" aria-label="Direct link to device_attribute" title="Direct link to device_attribute" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./device_attribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device 0 attribute list:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  device name: STCP920</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hardware version of chip: 538968322</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hardware version of board: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  device number in a chip: 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  core number in a device: 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  size of share memory in a device: 0x2000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  size of global memory in a device: 0xc00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  number of concurrent kernels in a device: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PCIe bus ID of a chip: 0x1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PCIe device ID of a chip: 256</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  version of device frimware: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  version of device driver: 17039360</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="exclusive_devices_fifo">exclusive_devices_fifo<a href="#exclusive_devices_fifo" class="hash-link" aria-label="Direct link to exclusive_devices_fifo" title="Direct link to exclusive_devices_fifo" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./exclusive_devices_fifo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">get file path: ./device/kernel_fifo.o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">running kernel_fifo......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Acquired Npu Num: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Loadeded Npu Moudule Num: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output 1:2:3:4</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="exclusive_devices_stream">exclusive_devices_stream<a href="#exclusive_devices_stream" class="hash-link" aria-label="Direct link to exclusive_devices_stream" title="Direct link to exclusive_devices_stream" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./exclusive_devices_stream</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">get file path: ./device/hello.o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">running simple_hello_world......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 0/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 1/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 2/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 0/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 3/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 0/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 4/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 1/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 0/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 5/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 2/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 1/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 6/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 1/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 3/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 2/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 4/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 2/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 3/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 7/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 5/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 3/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 6/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 7/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 4/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 4/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 5/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 5/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 6/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 7/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 6/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 7/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">get file path: ./device/kernel.o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">running simple_input_output......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output 1:2:3:4</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hello_world">hello_world<a href="#hello_world" class="hash-link" aria-label="Direct link to hello_world" title="Direct link to hello_world" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./hello_world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">running hello_world......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 0/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 1/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 2/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 3/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 4/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 5/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 6/8.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello world from core 7/8.</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="highmem">highmem<a href="#highmem" class="hash-link" aria-label="Direct link to highmem" title="Direct link to highmem" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./highmem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-------- HighMEM TEST BEGIN --------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prepare host data:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">76543210 76543210 76543210 76543210 76543210 76543210 76543210 76543210 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Check host dst result:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">76543210 76543210 76543210 76543210 76543210 76543210 76543210 76543210 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---- Static allocate test ----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">check dst result: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12345678 12345678 12345678 12345678 12345678 12345678 12345678 12345678 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---- TEST DONE ----</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="host_device_kernel">host_device_kernel<a href="#host_device_kernel" class="hash-link" aria-label="Direct link to host_device_kernel" title="Direct link to host_device_kernel" translate="no">​</a></h4>
<p>无报错代表双边函数在主机端和设备端均执行成功。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./host_device_kernel</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kernel_dependency">kernel_dependency<a href="#kernel_dependency" class="hash-link" aria-label="Direct link to kernel_dependency" title="Direct link to kernel_dependency" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./kernel_dependency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel dep1_func runs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel dep2_func runs.</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kernel_parall_device">kernel_parall_device<a href="#kernel_parall_device" class="hash-link" aria-label="Direct link to kernel_parall_device" title="Direct link to kernel_parall_device" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./kernel_parall_device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs with parallel ID 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">environment variable STC_SET_DEVICES: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device: 0, device core count: 8</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kernel_parall_devices">kernel_parall_devices<a href="#kernel_parall_devices" class="hash-link" aria-label="Direct link to kernel_parall_devices" title="Direct link to kernel_parall_devices" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./kernel_parall_devices</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs in device 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel parall_func runs in device 1.</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kernel_permanent">kernel_permanent<a href="#kernel_permanent" class="hash-link" aria-label="Direct link to kernel_permanent" title="Direct link to kernel_permanent" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./kernel_permanent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, </span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kernel_serial">kernel_serial<a href="#kernel_serial" class="hash-link" aria-label="Direct link to kernel_serial" title="Direct link to kernel_serial" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./kernel_serial</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel serial1_func runs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel serial2_func runs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel serial2_func runs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel serial1_func runs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel serial1_func runs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kernel serial2_func runs.</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="matrix_convolution">matrix_convolution<a href="#matrix_convolution" class="hash-link" aria-label="Direct link to matrix_convolution" title="Direct link to matrix_convolution" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./matrix_convolution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matrix convolution result:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12.0, 12.0, 12.0, 12.0, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">24.0, 24.0, 24.0, 24.0, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">36.0, 36.0, 36.0, 36.0, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">48.0, 48.0, 48.0, 48.0, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">60.0, 60.0, 60.0, 60.0, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">72.0, 72.0, 72.0, 72.0, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">84.0, 84.0, 84.0, 84.0, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">96.0, 96.0, 96.0, 96.0, </span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="matrix_multiply">matrix_multiply<a href="#matrix_multiply" class="hash-link" aria-label="Direct link to matrix_multiply" title="Direct link to matrix_multiply" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./matrix_multiply</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matrix multiply result:0.0, 36.0, 72.0, 108.0, 144.0, 180.0, 216.0, 252.0, </span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="memcpy_global">memcpy_global<a href="#memcpy_global" class="hash-link" aria-label="Direct link to memcpy_global" title="Direct link to memcpy_global" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./memcpy_global</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 4: copy direction [global -&gt; global] data [0x1400 -&gt; 0x1400].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 4: copy direction [global -&gt; global] data [0x2400 -&gt; 0x2400].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 4: copy direction [global -&gt; global] data [0x3400 -&gt; 0x3400].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 4: copy direction [global -&gt; global] data [0x4400 -&gt; 0x4400].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 1: copy direction [global -&gt; global] data [0x1100 -&gt; 0x1100].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 1: copy direction [global -&gt; global] data [0x2100 -&gt; 0x2100].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 1: copy direction [global -&gt; global] data [0x3100 -&gt; 0x3100].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 1: copy direction [global -&gt; global] data [0x4100 -&gt; 0x4100].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 0: copy direction [global -&gt; global] data [0x1000 -&gt; 0x1000].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 0: copy direction [global -&gt; global] data [0x2000 -&gt; 0x2000].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 0: copy direction [global -&gt; global] data [0x3000 -&gt; 0x3000].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 0: copy direction [global -&gt; global] data [0x4000 -&gt; 0x4000].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 2: copy direction [global -&gt; global] data [0x1200 -&gt; 0x1200].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 2: copy direction [global -&gt; global] data [0x2200 -&gt; 0x2200].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 2: copy direction [global -&gt; global] data [0x3200 -&gt; 0x3200].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 2: copy direction [global -&gt; global] data [0x4200 -&gt; 0x4200].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 3: copy direction [global -&gt; global] data [0x1300 -&gt; 0x1300].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 3: copy direction [global -&gt; global] data [0x2300 -&gt; 0x2300].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 3: copy direction [global -&gt; global] data [0x3300 -&gt; 0x3300].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 3: copy direction [global -&gt; global] data [0x4300 -&gt; 0x4300].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 6: copy direction [global -&gt; global] data [0x1600 -&gt; 0x1600].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 6: copy direction [global -&gt; global] data [0x2600 -&gt; 0x2600].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 6: copy direction [global -&gt; global] data [0x3600 -&gt; 0x3600].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 6: copy direction [global -&gt; global] data [0x4600 -&gt; 0x4600].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 5: copy direction [global -&gt; global] data [0x1500 -&gt; 0x1500].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 5: copy direction [global -&gt; global] data [0x2500 -&gt; 0x2500].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 5: copy direction [global -&gt; global] data [0x3500 -&gt; 0x3500].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 5: copy direction [global -&gt; global] data [0x4500 -&gt; 0x4500].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 7: copy direction [global -&gt; global] data [0x1700 -&gt; 0x1700].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 7: copy direction [global -&gt; global] data [0x2700 -&gt; 0x2700].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 7: copy direction [global -&gt; global] data [0x3700 -&gt; 0x3700].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 7: copy direction [global -&gt; global] data [0x4700 -&gt; 0x4700].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 0: copy direction [local -&gt; global] data [0x10 -&gt; 0x0].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 1: copy direction [local -&gt; global] data [0x11 -&gt; 0x1].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 2: copy direction [local -&gt; global] data [0x12 -&gt; 0x2].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 3: copy direction [local -&gt; global] data [0x13 -&gt; 0x3].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 4: copy direction [local -&gt; global] data [0x14 -&gt; 0x4].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 5: copy direction [local -&gt; global] data [0x15 -&gt; 0x5].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 6: copy direction [local -&gt; global] data [0x16 -&gt; 0x6].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 7: copy direction [local -&gt; global] data [0x17 -&gt; 0x7].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 0, expect:2001, result: 2001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 1, expect:2101, result: 2101</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 2, expect:2201, result: 2201</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 3, expect:2301, result: 2301</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 4, expect:2401, result: 2401</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 5, expect:2501, result: 2501</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 6, expect:2601, result: 2601</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 7, expect:2701, result: 2701</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 0, expect:2000, result: 2000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 1, expect:2100, result: 2100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 2, expect:2200, result: 2200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 3, expect:2300, result: 2300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 4, expect:2400, result: 2400</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 5, expect:2500, result: 2500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 6, expect:2600, result: 2600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passed: item 7, expect:2700, result: 2700</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">get string: no error</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="memcpy_shared">memcpy_shared<a href="#memcpy_shared" class="hash-link" aria-label="Direct link to memcpy_shared" title="Direct link to memcpy_shared" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ./memcpy_shared</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 0: copy direction [global -&gt; shared] data [0x1000 -&gt; 0x1000].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 0: copy direction [global -&gt; shared] data [0x2000 -&gt; 0x2000].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 1: copy direction [global -&gt; shared] data [0x1100 -&gt; 0x1100].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 1: copy direction [global -&gt; shared] data [0x2100 -&gt; 0x2100].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 2: copy direction [global -&gt; shared] data [0x1200 -&gt; 0x1200].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 2: copy direction [global -&gt; shared] data [0x2200 -&gt; 0x2200].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 3: copy direction [global -&gt; shared] data [0x1300 -&gt; 0x1300].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 3: copy direction [global -&gt; shared] data [0x2300 -&gt; 0x2300].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 4: copy direction [global -&gt; shared] data [0x1400 -&gt; 0x1400].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 4: copy direction [global -&gt; shared] data [0x2400 -&gt; 0x2400].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 5: copy direction [global -&gt; shared] data [0x1500 -&gt; 0x1500].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 5: copy direction [global -&gt; shared] data [0x2500 -&gt; 0x2500].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 6: copy direction [global -&gt; shared] data [0x1600 -&gt; 0x1600].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 6: copy direction [global -&gt; shared] data [0x2600 -&gt; 0x2600].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 7: copy direction [global -&gt; shared] data [0x1700 -&gt; 0x1700].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 7: copy direction [global -&gt; shared] data [0x2700 -&gt; 0x2700].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 0: copy direction [local -&gt; shared] data [0x10 -&gt; 0x10].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 1: copy direction [local -&gt; shared] data [0x11 -&gt; 0x11].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 2: copy direction [local -&gt; shared] data [0x12 -&gt; 0x12].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 3: copy direction [local -&gt; shared] data [0x13 -&gt; 0x13].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 4: copy direction [local -&gt; shared] data [0x14 -&gt; 0x14].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 5: copy direction [local -&gt; shared] data [0x15 -&gt; 0x15].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 6: copy direction [local -&gt; shared] data [0x16 -&gt; 0x16].</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">core 7: copy direction [local -&gt; shared] data [0x17 -&gt; 0x17].</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用stc-smi检测设备状态">使用stc-smi检测设备状态<a href="#使用stc-smi检测设备状态" class="hash-link" aria-label="Direct link to 使用stc-smi检测设备状态" title="Direct link to 使用stc-smi检测设备状态" translate="no">​</a></h2>
<p>stc-smi（Stream Computing System Management Interface）用于管理和监视希姆计算的NPU设备，包括查看设备信息、资源使用情况等。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="命令说明">命令说明<a href="#命令说明" class="hash-link" aria-label="Direct link to 命令说明" title="Direct link to 命令说明" translate="no">​</a></h3>
<p>执行<code>stc-smi --help</code>获取stc-smi命令的使用方法：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi --help</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Usage: stc-smi [OPTIONS]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -h, --help           Print this help, and exit.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;no arguments&gt;       Display a summary of NPU devices connected to the system.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --version            Print version number.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -l, --list           Display NPU devices list.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DISPLAY OPTIONS:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -q, --query          Display all info of all the NPU devices, the following options can be selected.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [optional]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -i, --id=          Specify the NPU device to be operated.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -c, --cluster=     Specify cluster number.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p, --pci          Display NPU device pci info.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --task             Display running tasks info.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --query-npu=         Query information of the NPU devices, select the option from query list.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [query list]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    index              Zero based index of the NPU.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name               The official product name of the NPU.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    serial             This number matches the serial number physically printed on each board. It is a globally unique immutable alphanumeric value.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    power.draw         The last measured power draw for the entire board, in watts.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    temperature.npu    Core NPU temperature. in degrees C.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    utilization.npu    Percent of time over the past sample period during which one or more kernels was executing on the NPU.The sample period is 1 second.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory.total       Total installed NPU memory.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory.used        Total memory allocated by active contexts.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [mandatory]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --format=          Comma separated list of format options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       csv - comma separated values (MANDATORY).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -r, --reset          Reset specified NPU device.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -i, --id=          Specify the NPU device to be operated (MANDATORY).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -m, --monitor        Set monitor related parameters.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -i, --id=          Specify the NPU device to be operated (MANDATORY).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --enable           Enable the temperature and voltage monitor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --disable          Disable the temperature and voltage monitor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --temperature=         Temperature threshold for alarm.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --shutdown-threshold=  Temperature threshold for shutdown.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --base=            Lower limit of voltage alarm value (Must set with -o, --offset).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -o, --offset=      Voltage alarm value interval value (Must set with -b, --base).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -S, --save           Save local config as default config.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -i, --id=          Specify the NPU device to be operated (MANDATORY).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -u, --upgrade=       Upgrade specified NPU ctrl firmware of specified device. This operation requires root rights.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -i, --id=          Specify the NPU device to be operated (MANDATORY).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --mcu-upgrade=       Upgrade specified MCU firmware of specified device. This operation requires root rights.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -i, --id=          Specify the NPU device to be operated (MANDATORY).</span><br></span></code></pre></div></div>
<p>stc-smi命令支持以下选项：</p>
<ul>
<li>
<p>获取信息的类型</p>
<table><thead><tr><th><strong>选项</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><code>-h, --help</code></td><td>显示stc-smi命令的帮助信息并退出，包括支持的选项以及描述。</td></tr><tr><td>no arguments</td><td>显示连接到系统的NPU设备的摘要信息，包括设备索引、频率、功耗、内存使用、进程等。</td></tr><tr><td><code>--version </code></td><td>显示stc-smi的版本信息。</td></tr><tr><td><code>-l, --list</code></td><td>显示NPU设备列表。</td></tr></tbody></table>
</li>
<li>
<p>显示信息的方式</p>
<table><thead><tr><th><strong>选项</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><code>-q, --query</code></td><td>显示NPU设备的所有信息，可以与以下选项联合使用：<br><code>-i, --id=</code>：指定要查看的NPU设备，后跟NPU设备ID。例如，<code>stc-smi -q -i 0</code>查看NPU设备0。<br><code>-c, --cluster=</code>：指定要查看的NPC Cluster，后跟NPC Cluster ID。例如，<code>stc-smi -q -c 0</code>查看所有NPU设备的NPC Cluster 0。<br><code>-p, --pci</code>：显示NPU设备的PCI总线相关信息，包括Bus ID、板卡标识符、传输速率等。例如，<code>stc-smi -q -i 0 -p</code>查看NPU设备0的PCI总线相关信息。<br><code>--task</code>：显示任务信息，例如<code>stc-smi -q -i 0 -c 0 --task</code>查看NPU设备0的NPC Cluster 0上的任务。</td></tr><tr><td><code>--query-npu=</code></td><td>查询NPU设备的指定信息，需要同时指定信息项（<code>--query-npu=</code>）和显示格式（<code>--format=</code>）。如果希望查询多项信息，以英文逗号分隔即可，例如<code>stc-smi --query-npu=index,name --format=csv</code>查询NPU设备的索引和产品名称。支持查询的信息项如下：<br><code>index</code>：NPU设备的索引，从0开始。<br><code>name</code>：NPU的产品名称。<br><code>serial</code>：全球唯一的不可变的字母数字编号，与实际印刷在每块板上的序列号相匹配。<br><code>power.draw</code>：整个板卡的功耗，单位为W。<br><code>temperature.npu</code>：NPU核心的温度，单位为℃。<br><code>utilization.npu</code>：在上个采样时间（1秒）内，NPU上执行核函数所占采样时间的百分比。<br><code>memory.total</code>：NPU全局内存的总大小。<br><code>memory.used</code>：运行任务的上下文占用的全局内存大小，包括软件栈占用的固定内存、运行代码占用的内存等。<br>支持的显示格式如下：<code>csv</code>：逗号分隔格式。</td></tr><tr><td><code>-r, --reset</code></td><td>重置指定的NPU设备，可以与以下选项联合使用：<br><code>-i, --id=</code>：指定要重置的NPU设备。</td></tr><tr><td><code>-m, --monitor</code></td><td>设置监视器相关参数，可以与以下选项联合使用：<br><code>-i, --id=</code>：指定要监控的NPU设备。<br><code>--enable</code>：开启温度和电压监视器。<br><code>--disable</code>：关闭温度和电压监视器。<br><code>--temperature=</code>：温度告警阈值。<br><code>--shutdown-threshold=</code>：关卡温度阈值。<br><code>--base=</code>：电压报警值下限（必须用配合<code>-o，--offset</code>设置)。<br><code>-o, --offset=</code>：电压报警值间隔值（必须用配合<code>-b，--base</code>设置)。</td></tr><tr><td><code>-S, --save</code></td><td>保存当前监视器配置为默认配置。可以与以下选项联合使用：<br><code>-i, --id=</code>：指定要保存配置的NPU设备。</td></tr><tr><td><code>-u, --upgrade</code></td><td>升级指定设备的NPU ctrl firmware固件，需要有root权限。要求与以下选项联合使用：<br><code>-i, --id=</code>：指定要升级的NPU设备。</td></tr><tr><td><code>--mcu-upgrade</code></td><td>升级指定设备的MCU固件，需要有root权限。要求与以下选项联合使用：<br><code>-i, --id=</code>：指定要升级的NPU设备。</td></tr></tbody></table>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="命令示例">命令示例<a href="#命令示例" class="hash-link" aria-label="Direct link to 命令示例" title="Direct link to 命令示例" translate="no">​</a></h3>
<p>本章节以在HPE V1.9.0中stc-smi命令为例演示执行效果。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="显示摘要信息">显示摘要信息<a href="#显示摘要信息" class="hash-link" aria-label="Direct link to 显示摘要信息" title="Direct link to 显示摘要信息" translate="no">​</a></h4>
<p>查看运行中目标程序的摘要信息。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|    STC-SMI: 1.8.1                            Driver Version: 1.9.0           |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|  NPU        Name      Frequency|         Bus-Id        |            NPU-Util |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|  Fan        Temp          Power|   ClusterCount        |  Memory Used /Total |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+==============================================================================+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|    0     STCP920          1000M|      0:65:00.0        |                25 % |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|  N/A       36.6C   33.7W / 160W|              4        |     624.05M /16.00G |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+------------------------------------------------------------------------------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Processes:                                                                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   NPU CLUSTER           Pid  processName                           MemoryUsed|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+==============================================================================+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|     0       0        583900  hello_world                               45.62K|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+------------------------------------------------------------------------------+</span><br></span></code></pre></div></div>
<p>各项信息的描述如下：</p>
<table><thead><tr><th><strong>项目</strong></th><th><strong>示例值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>STC-SMI</td><td>1.8.1</td><td>stc-smi工具的版本信息。</td></tr><tr><td>Driver Version</td><td>1.9.0</td><td>NPU Driver的版本信息。</td></tr><tr><td>NPU</td><td>0</td><td>NPU设备的索引。</td></tr><tr><td>Name</td><td>STCP920</td><td>NPU设备的产品名称。</td></tr><tr><td>Frequency</td><td>1000M</td><td>NPU设备的频率信息。</td></tr><tr><td>Sta</td><td>N/A</td><td>NPU设备板卡状态。</td></tr><tr><td>Temp</td><td>36.6℃</td><td>NPU设备核心的温度信息，合理范围为25℃～90℃。</td></tr><tr><td>Power</td><td>33.7W / 160W</td><td>NPU设备的功耗信息，包括实时功耗/额定功耗。</td></tr><tr><td>Bus-Id</td><td>0:65:00.0</td><td>NPU设备所使用PCI总线的ID。</td></tr><tr><td>NPU-Util</td><td>25 %</td><td>NPU设备的使用率，即使用的NPC占NPU设备内所有NPC的比例。</td></tr><tr><td>ClusterCount</td><td>4</td><td>NPU设备内NPC Cluster的数量。</td></tr><tr><td>Memory Used /Total</td><td>624.05M /16.00G</td><td>NPU设备的内存信息，包括已用内存/总内存的大小。</td></tr><tr><td>NPU</td><td>0</td><td>执行中任务所使用NPU设备的ID。</td></tr><tr><td>CLUSTER</td><td>0</td><td>执行中任务所使用NPC Cluster的ID。</td></tr><tr><td>Pid</td><td>583900</td><td>执行中任务的系统进程ID。</td></tr><tr><td>processName</td><td>hello_world</td><td>执行中任务的系统进程名称。</td></tr><tr><td>MemoryUsed</td><td>45.62K</td><td>执行中任务使用的内存大小。</td></tr></tbody></table>
<p>示例摘要信息中，NPU设备的Memory Used为624.05M，其中624M是软件栈固定使用的内存大小，剩下的则是运行目标程序使用的内存，即Processes中的MemoryUsed。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="显示工具版本">显示工具版本<a href="#显示工具版本" class="hash-link" aria-label="Direct link to 显示工具版本" title="Direct link to 显示工具版本" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stc-smi version: 1.8.1-gc0bc680</span><br></span></code></pre></div></div>
<p>示例结果显示版本号为1.8.1-gc0bc680。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="显示设备列表">显示设备列表<a href="#显示设备列表" class="hash-link" aria-label="Direct link to 显示设备列表" title="Direct link to 显示设备列表" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi --list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NPU: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        STCP920         BUS-ID: 0:03:00.0 (01PSF60000170610)</span><br></span></code></pre></div></div>
<p>示例结果显示检测到一个NPU设备，产品名称为STCP920，所使用PCI总线的ID为0:03:00.0，设备序列号为01PSF60000170610。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="显示指定设备的信息">显示指定设备的信息<a href="#显示指定设备的信息" class="hash-link" aria-label="Direct link to 显示指定设备的信息" title="Direct link to 显示指定设备的信息" translate="no">​</a></h4>
<p>您可以根据需要查看指定NPU设备的信息：</p>
<ul>
<li>
<p>显示设备的所有信息。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi -q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NPU: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Product name: STCP920</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Product brand: STREAMCOMPUTING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Sn: 01PSF60000170610</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Chip count: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Temperature:   35C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AlertTemperature:   90C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ShutdownTemperature:   90C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Status: on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Power:   31W</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Cluster count: 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Frequency: 1000M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Bus: 0000:03:00.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Vendor: 23e2 Device: 0100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Current link speed: 16.0 GT/s PCIe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Max link speed: 16.0 GT/s PCIe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Current link width: 16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Max link width: 16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Write bytes: 17183835B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Read bytes: 604B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HPE version: 1.9.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Driver: 1.9.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Chip version: 20200102</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MCU firmware: 1.0.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        NPU ctrl firmware: 1.3.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Cluster 0:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Frequency: 1000M        Core count: 8   DMA count: 2    Util: 0 %       Status: WORK    Memory Used / Total: 156.00M / 4.00G</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Npc status:      IDLE    IDLE    IDLE    IDLE    IDLE    IDLE    IDLE    IDLE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Cluster 1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Frequency: 1000M        Core count: 8   DMA count: 2    Util: 0 %       Status: WORK    Memory Used / Total: 156.00M / 4.00G</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Npc status:      IDLE    IDLE    IDLE    IDLE    IDLE    IDLE    IDLE    IDLE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Cluster 2:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Frequency: 1000M        Core count: 8   DMA count: 2    Util: 0 %       Status: WORK    Memory Used / Total: 156.00M / 4.00G</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Npc status:      IDLE    IDLE    IDLE    IDLE    IDLE    IDLE    IDLE    IDLE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Cluster 3:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Frequency: 1000M        Core count: 8   DMA count: 2    Util: 0 %       Status: WORK    Memory Used / Total: 156.00M / 4.00G</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Npc status:      IDLE    IDLE    IDLE    IDLE    IDLE    IDLE    IDLE    IDLE</span><br></span></code></pre></div></div>
</li>
<li>
<p>显示NPC Cluster 0的信息。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi -q -i 0 -c 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NPU: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Cluster 0:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Frequency: 1000M        Core count: 8   DMA count: 2    Util: 100 %     Status: WORK    Memory Used/Total: 156.05M/4.00G</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Npc status:      RUNNING         RUNNING         RUNNING         RUNNING         RUNNING         RUNNING   RUNNING         RUNNING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Cluster: 0  Process: hello_world    Pid: 584348     Global mem used: 45.62K</span><br></span></code></pre></div></div>
</li>
</ul>
<p>各项的含义如下：</p>
<table><thead><tr><th><strong>项目</strong></th><th><strong>示例值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>Product Name</td><td>STCP920</td><td>NPU设备的产品名称。</td></tr><tr><td>Product Brand</td><td>STREAMCOMPUTING</td><td>NPU设备的品牌名称。</td></tr><tr><td>Sn</td><td>01PSF60000170610</td><td>NPU设备的SN。每个NPU设备的SN是唯一的，不会重复。</td></tr><tr><td>Chip count</td><td>1</td><td>NPU设备的数量。</td></tr><tr><td>Temperature</td><td>34C</td><td>NPU设备核心的温度信息，合理范围为25℃～90℃。</td></tr><tr><td>AlertTemperature</td><td>90C</td><td>NPU设备告警温度。</td></tr><tr><td>ShutdownTemperature</td><td>90C</td><td>NPU设备关机温度。</td></tr><tr><td>Status</td><td>on</td><td>NPU设备状态。</td></tr><tr><td>Power</td><td>31W</td><td>NPU设备的实时功耗，额定功耗为160W。</td></tr><tr><td>Cluster count</td><td>4</td><td>NPU设备内NPC Cluster的数量。</td></tr><tr><td>Frequency</td><td>1000M</td><td>NPU设备的频率信息。</td></tr><tr><td>Bus</td><td>0000:03:00.0</td><td>NPU设备所使用PCI总线的ID。</td></tr><tr><td>Vendor</td><td>23e2</td><td>PCIe厂商的ID。</td></tr><tr><td>Current link speed</td><td>16.0 GT/s PCIe</td><td>PCIe设备当前的连接速度，视主机的PCIe插槽而定，可能值包括16GT/S（GEN4）、8GT/S（GEN3）、5GT/S （GEN2）。</td></tr><tr><td>Max link speed</td><td>16.0 GT/s PCIe</td><td>PCIe设备支持的最高连接速度，视主机的PCIe插槽而定，可能值包括16GT/S（GEN4）、8GT/S（GEN3）、5GT/S （GEN2）。</td></tr><tr><td>Current link width</td><td>16</td><td>PCIe设备当前连接的通道数。</td></tr><tr><td>Max link width</td><td>16</td><td>PCIe设备支持连接的最大通道数。</td></tr><tr><td>Write bytes</td><td>17849242B</td><td>PCIe设备的写数据大小统计，数值动态变化。</td></tr><tr><td>Read bytes</td><td>604B</td><td>PCIe设备的读数据大小统计，数值动态变化。</td></tr><tr><td>HPE version</td><td>1.9.0</td><td>当前主机安装HPE异构编程环境的版本信息。</td></tr><tr><td>Driver</td><td>1.9.0</td><td>NPU Driver的版本信息。</td></tr><tr><td>Chip version</td><td>20200102</td><td>STCP920芯片的产品版本信息。</td></tr><tr><td>MCU firmware</td><td>1.0.9</td><td>MCU固件的版本信息。</td></tr><tr><td>NPU ctrl firmware</td><td>1.3.4</td><td>NPU ctrl固件的版本信息。</td></tr><tr><td>Cluster</td><td>0</td><td>NPC Cluster的ID。</td></tr><tr><td>Frequency</td><td>1000M</td><td>NPC Cluster的频率。</td></tr><tr><td>Core count</td><td>8</td><td>当前NPC Cluster中NPC的数量。</td></tr><tr><td>DMA count</td><td>2</td><td>当前NPC Cluster中DMA通道的数量。</td></tr><tr><td>Util</td><td>0 %</td><td>当前NPC Cluster的使用率，即使用的NPC占当前NPC Cluster内所有NPC的比例。</td></tr><tr><td>Status</td><td>WORK</td><td>当前NPC Cluster的状态信息，可能值：<br>WORK：正常工作状态。<br>DEAD：错误状态。</td></tr><tr><td>Memory Used/Total</td><td>156.00M / 4.00G</td><td>当前NPC Cluster的内存信息，包括已用内存/总内存的大小。</td></tr><tr><td>Npc status</td><td>IDLE</td><td>当前NPC Cluster中各个NPC的状态信息，可能值：<br>IDLE：闲置中，未执行任务。<br>RUNNING：正在执行任务。<br>STOP：停止使用NPC。例如终止运行中的任务时，会先让NPC进入STOP状态，然后再复位设备进入IDLE状态。<br>NPC-EXCEPTION：软件错误导致NPC异常。<br>UNKNOWN：未知错误导致NPC异常。</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="查询设备的指定信息">查询设备的指定信息<a href="#查询设备的指定信息" class="hash-link" aria-label="Direct link to 查询设备的指定信息" title="Direct link to 查询设备的指定信息" translate="no">​</a></h4>
<p>您可以根据需要查看NPU设备的指定信息：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi --query-npu=index,utilization.npu,memory.used --format=csv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">index, utilization.npu [%], memory.used [MiB]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0, 0 %, 624 MiB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi --query-npu=index,temperature.npu,power.draw --format=csv      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">index, temperature.npu, power.draw [W]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0, 30, 30.31 W</span><br></span></code></pre></div></div>
<blockquote>
<p>说明：<code>--query-npu</code>支持指定的信息项，请参见<em>命令说明</em>章节。</p>
</blockquote>
<p>按照逗号分隔格式显示查询的信息。各项的含义如下：</p>
<table><thead><tr><th><strong>项目</strong></th><th><strong>示例值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>index</td><td>0</td><td>NPU设备的索引。</td></tr><tr><td>utilization.npu</td><td>0 %</td><td>NPU设备的利用率，即使用的NPC占NPU设备内所有NPC的比例。</td></tr><tr><td>memory.used</td><td>624 MiB</td><td>NPU设备已使用内存的大小。</td></tr><tr><td>temperature.npu</td><td>30</td><td>NPU设备核心的温度信息。</td></tr><tr><td>power.draw</td><td>30.31 W</td><td>NPU设备的实时功耗。</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="设置关卡温度阈值">设置关卡温度阈值<a href="#设置关卡温度阈值" class="hash-link" aria-label="Direct link to 设置关卡温度阈值" title="Direct link to 设置关卡温度阈值" translate="no">​</a></h4>
<p>为防止板卡长期在超过设计的最高温度下运行，从而影响板卡的使用寿命。您可以设置关卡温度阈值。当板卡的温度达到了关卡温度阈值时，将会清理当前板卡所有任务并设置为关卡状态。</p>
<ol>
<li>
<p>温度监控功能默认不开启，需要先开启监控功能：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#开启监控功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi -m --enable -i 0</span><br></span></code></pre></div></div>
</li>
<li>
<p>设置NPU设备0的关卡温度阈值为90度：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#设置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi -m --shutdown-threshold=90 -i 0</span><br></span></code></pre></div></div>
<p>如果板卡因超过温度阈值自动关卡，在重新使用板卡时您需要手动开卡才能解除关卡状态：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi --startup -i 0 </span><br></span></code></pre></div></div>
</li>
<li>
<p>保存设置。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi --save -i 0</span><br></span></code></pre></div></div>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="复位设备">复位设备<a href="#复位设备" class="hash-link" aria-label="Direct link to 复位设备" title="Direct link to 复位设备" translate="no">​</a></h4>
<p>在NPU设备状态异常时，您可以尝试复位设备。复位NPU设备0的命令示例如下：</p>
<blockquote>
<p>警告：执行设备复位命令前，请确认设备上没有正在执行的任务。复位是针对整个NPU设备的，而非单个NPC Cluster。</p>
</blockquote>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-smi -r -i 0</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用stc-gdb调试异构程序">使用stc-gdb调试异构程序<a href="#使用stc-gdb调试异构程序" class="hash-link" aria-label="Direct link to 使用stc-gdb调试异构程序" title="Direct link to 使用stc-gdb调试异构程序" translate="no">​</a></h2>
<p>stc-gdb（Stream Computing Debugger）是希姆计算推出的命令行工具，用于调试NPU异构程序。stc-gdb扩展了GDB（GNU Debugger），支持在Linux系统上调试主机端代码，控制运行在NPU上的程序。您可以使用stc-gdb方便地监视程序运行状态，获取和修改程序的中间运行结果，减轻程序开发过程中的调试工作量，提高开发效率。</p>
<p>stc-gdb具有如下特性：</p>
<ul>
<li>完全兼容GDB原生命令。</li>
<li>⽀持同时调试主机端和设备端的代码。</li>
<li>⽀持调试使用NPU单核和多核的程序。</li>
<li>支持对设备端代码进行源码级和指令级的单步调试。</li>
<li>支持attach机制直接跟踪运行中的程序，方便定位到设备端代码。</li>
<li>支持检查和修改程序所使用核的寄存器、变量或其他内存数据。</li>
</ul>
<blockquote>
<p>说明：stc-gdb会将调试过程中产生的临时文件存储在/tmp目录中，因此请保证登录的用户拥有读写/tmp目录的权限。</p>
</blockquote>
<p>stc-gdb支持的命令类别如下：</p>
<ul>
<li>GDB原生命令和选项：命名及使用方式和GDB定义保持一致，例如添加软件断点（break/b）、硬件断点（hbreak/hb）、观察点（watch）等。</li>
<li>希姆计算扩展命令和选项：希姆计算的扩展命令均使用stc作为前缀。</li>
</ul>
<blockquote>
<p>说明：希姆计算扩展命令仅在异构程序运行在设备端时可用，具体的调试过程请参见<em>调试示例</em>章节。</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用流程">使用流程<a href="#使用流程" class="hash-link" aria-label="Direct link to 使用流程" title="Direct link to 使用流程" translate="no">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="启动">启动<a href="#启动" class="hash-link" aria-label="Direct link to 启动" title="Direct link to 启动" translate="no">​</a></h4>
<p>有多种方式启动stc-gdb：</p>
<ul>
<li>
<p>使用<code>stc-gdb</code>命令直接启动stc-gdb，启动stc-gdb后，命令行将一直等待指令输入，直到退出stc-gdb。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-gdb</span><br></span></code></pre></div></div>
</li>
<li>
<p>stc-gdb也能使用参数和选项启动，用来设定更多的调试环境。</p>
<ul>
<li>
<p>启动stc-gdb时指定加载一个可执行程序。示例如下，启动stc-gdb时指定名为hello_world的可执行程序。</p>
<blockquote>
<p>说明：hello_world示例源代码及编译方式可以参考代码示例。</p>
</blockquote>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-gdb hello_world</span><br></span></code></pre></div></div>
</li>
<li>
<p>如果需要在调试程序时，需要指定被调试程序的参数，可以在启动stc-gdb时添加<code>--args</code>选项。示例如下，启动stc-gdb时指定名为hello_world的可执行程序，并且传入参数arg1和arg2。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-gdb --args hello_world arg1 arg2</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li>
<p>stc-gdb在启动时attach到运行中程序所在的进程。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-gdb --pid $(pid of process)</span><br></span></code></pre></div></div>
<blockquote>
<p>说明：部分操作系统中需要sudo权限，请按照终端的提示进行提权操作。</p>
</blockquote>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="调试">调试<a href="#调试" class="hash-link" aria-label="Direct link to 调试" title="Direct link to 调试" translate="no">​</a></h4>
<p>stc-gdb工具完全兼容GDB命令，提供大量的调试选项，满足大部分场景中调试主机端和设备端代码的需求。使用stc-gdb工具根据需求调试可执行程序。示例如下：</p>
<p>启动stc-gdb并指定可执行程序，在程序第22行设置断点，然后运行程序开始调试。运行程序开始调试后，可以执行命令控制程序运行、获取相关的信息。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) b 22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) run</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="退出">退出<a href="#退出" class="hash-link" aria-label="Direct link to 退出" title="Direct link to 退出" translate="no">​</a></h4>
<p>使用<code>quit</code>命令（简写为<code>q</code>）、<code>exit</code>命令或文件结束字符（通常为Ctrl+d）退出stc-gdb。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) quit</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="自定义扩展调试命令">自定义扩展调试命令<a href="#自定义扩展调试命令" class="hash-link" aria-label="Direct link to 自定义扩展调试命令" title="Direct link to 自定义扩展调试命令" translate="no">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="stc-focus">stc focus<a href="#stc-focus" class="hash-link" aria-label="Direct link to stc focus" title="Direct link to stc focus" translate="no">​</a></h4>
<p><code>stc focus</code>命令用于查看或切换当前聚焦的NPC。通过<code>stc focus</code>命令聚焦到指定的NPC后，该stc-gdb进程的命令只会作用在指定的NPC上，方便您调试多核程序。示例如下：</p>
<ul>
<li>
<p>查看当前聚焦调试的NPC，NPC坐标为[device 0, cluster 0, core 0]。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) stc focus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Focusing on logical device 0 cluster 0 core 0]</span><br></span></code></pre></div></div>
</li>
<li>
<p>将聚焦调试的NPC坐标从[device 0, cluster 0, core 0]切换到[device 0, cluster 0, core 2]。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) stc focus device 0 cluster 0 core 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Switch from logical device 0 cluster 0 core 0 to logical device 0 cluster 0 core 2.]</span><br></span></code></pre></div></div>
</li>
<li>
<p>如果未指定完整的NPC坐标信息，则参照当前使用中NPC的坐标信息补全，例如自动补全device和cluster。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) stc focus core 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Switch from logical device 0 cluster 0 core 2 to logical device 0 cluster 0 core 3.]</span><br></span></code></pre></div></div>
</li>
</ul>
<blockquote>
<p>说明：NPC（即core）是运行异构程序的最小单元。一张AI推理卡（device）包括多个cluster，每个cluster包括多个NPC。以STCP920为例，单张STCP920包括4个cluster，单cluster又包括8个NPC。在运行异构程序时可能需要使用多个NPC，为方便灵活操作每个NPC，规定使用[device x, cluster y, core z]的坐标形式标识唯一的NPC。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="stc-info">stc info<a href="#stc-info" class="hash-link" aria-label="Direct link to stc info" title="Direct link to stc info" translate="no">​</a></h4>
<p><code>stc info</code>命令用于查看当前程序占用核资源及运行状态相关信息，包括cluster列表、NPC列表、NPC状态、当前focus的NPC等。其中，可能的NPC状态包括：</p>
<ul>
<li>BREAKPOINT：命中断点。</li>
<li>INTERRUPT：因Ctrl+C等操作中断。</li>
<li>SINGLESTEP：执行<code>n</code>等命令后单步调试。</li>
</ul>
<p><code>stc info</code>命令的示例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) stc info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device cluster core phy-core     pc       status    focus </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      0      0    0x1400180  BREAKPOINT    *   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      1      1    0x1400180  BREAKPOINT        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      2      2    0x1400180  BREAKPOINT        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      3      3    0x1400180  BREAKPOINT        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      4      4    0x1400180  BREAKPOINT        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      5      5    0x1400180  BREAKPOINT        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      6      6    0x1400180  BREAKPOINT        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      7      7    0x1400180  BREAKPOINT </span><br></span></code></pre></div></div>
<blockquote>
<p>说明：focus列中的星号（*）表示当前使用的NPC为[device 0, cluster 0, core 0]。</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="调试示例">调试示例<a href="#调试示例" class="hash-link" aria-label="Direct link to 调试示例" title="Direct link to 调试示例" translate="no">​</a></h3>
<p>本章节展示使用stc-gdb工具通过设置断点、查看调用堆栈和focus等信息来调试hello_world的可执行程序的示例。</p>
<p>说明：hello_world程序代码请参考<em>代码示例</em>章节。</p>
<ol>
<li>
<p>启动stc-gdb调试hello_world。</p>
<ul>
<li>
<p>若hello_world未启动，可直接使用stc-gdb加载hello_world。执行<code>break</code>（简写为<code>b</code>）命令为设备端代码添加断点，然后执行<code>run</code>（简写为<code>r</code>）开始运行。命中断点后，暂停运行程序。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-gdb hello_world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) b 22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Breakpoint 1 at 0x140000c: file hello_world.hc, line 22.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) r</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Breakpoint 1, hello () at hello_world.hc:22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">22              printf(&quot;hello world from core %d/%d.\n&quot;, CoreID, CoreNum);</span><br></span></code></pre></div></div>
</li>
<li>
<p>若hello_world在设备端运行中，查看pid为3296969，执行<code>attach</code>（简写为<code>at</code>）命令链接hello_world所在的进程。执行<code>break</code>（简写为<code>b</code>）命令为设备端代码添加断点，然后执行<code>continue</code>（简写为<code>c</code>）继续运行。命中断点后，暂停运行程序。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-gdb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) attach 3296969</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) b 22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Breakpoint 1 at 0x140000c: file hello_world.hc, line 22.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Continuing.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Breakpoint 1, hello () at hello_world.hc:22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">22              printf(&quot;hello world from core %d/%d.\n&quot;, CoreID, CoreNum);</span><br></span></code></pre></div></div>
</li>
</ul>
</li>
<li>
<p>执行<code>backtrace</code>（简写为<code>bt</code>）命令查看调用堆栈。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Breakpoint 1, hello () at hello_world.hc:22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">22              printf(&quot;hello world from core %d/%d.\n&quot;, CoreID, CoreNum);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) bt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#0  hello () at hello_world.hc:22</span><br></span></code></pre></div></div>
</li>
<li>
<p>此时异构程序已经运行到设备端，可以执行扩展命令<code>stc focus</code>查看当前使用的NPC，或者使用<code>stc info</code>查看NPC状态等更多信息。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) stc focus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Focusing on logical device 0 cluster 0 core 0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) stc info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">device cluster core phy-core     pc       status    focus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      0      0    0x140000c  BREAKPOINT    *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      1      1    0x140000c  BREAKPOINT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      2      2    0x140000c  BREAKPOINT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      3      3    0x140000c  BREAKPOINT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      4      4    0x140000c  BREAKPOINT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      5      5    0x140000c  BREAKPOINT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      6      6    0x140000c  BREAKPOINT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0      0      7      7    0x140000c  BREAKPOINT      </span><br></span></code></pre></div></div>
</li>
<li>
<p>切换focus获取对应NPC的控制权，然后执行<code>continue</code>（简写为<code>c</code>）继续运行。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) stc focus device 0 cluster 0 core 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Switch from logical device 0 cluster 0 core 0 to logical device 0 cluster 0 core 2.]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Continuing.</span><br></span></code></pre></div></div>
</li>
<li>
<p>执行<code>disassemble</code>（简写为<code>disass</code>）命令查看当前pc附近的汇编指令。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) disass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Dump of assembler code for function hello():</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400000 &lt;+0&gt;:     addi    sp,sp,-16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400002 &lt;+2&gt;:     sw      ra,12(sp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400004 &lt;+4&gt;:     sw      s0,8(sp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400006 &lt;+6&gt;:     addi    s0,sp,16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400008 &lt;+8&gt;:     j       0x140000c &lt;hello()+12&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=&gt; 0x0140000c &lt;+12&gt;:    auipc   ra,0x2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400010 &lt;+16&gt;:    jalr    -946(ra) # 0x1401c5a &lt;core_id_internal&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400014 &lt;+20&gt;:    sw      a0,-12(s0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400018 &lt;+24&gt;:    auipc   ra,0x2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x0140001c &lt;+28&gt;:    jalr    -890(ra) # 0x1401c9e &lt;core_num_internal&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400020 &lt;+32&gt;:    lw      a1,-12(s0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400024 &lt;+36&gt;:    mv      a2,a0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400026 &lt;+38&gt;:    lui     a0,0x1407</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x0140002a &lt;+42&gt;:    addi    a0,a0,-1578 # 0x14069d6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x0140002e &lt;+46&gt;:    auipc   ra,0x0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400032 &lt;+50&gt;:    jalr    118(ra) # 0x14000a4 &lt;printf&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0x01400036 &lt;+54&gt;:    j       0x140000c &lt;hello()+12&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End of assembler dump.</span><br></span></code></pre></div></div>
</li>
<li>
<p>执行<code>info</code>（简写<code>i</code>）命令查看已添加的断点，并执行<code>delete</code>（简写<code>d</code>）删除对应的断点。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) i b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Num     Type           Disp Enb Address    What</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1       breakpoint     keep y   &lt;MULTIPLE&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        breakpoint already hit 1 time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1.1                         y   0x0140000c in hello() at hello_world.hc:22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1.2                         n   0xc000000c in hello() at hello_world.hc:22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) d 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) i b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No breakpoints or watchpoints.</span><br></span></code></pre></div></div>
</li>
<li>
<p>执行<code>quit</code>（<code>q</code>）命令退出调试。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(stc-gdb) q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A debugging session is active.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Inferior 1 [process 3295156] will be killed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Quit anyway? (y or n) y</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常见问题">常见问题<a href="#常见问题" class="hash-link" aria-label="Direct link to 常见问题" title="Direct link to 常见问题" translate="no">​</a></h3>
<p>在attach已有进程时，建议sudo或root权限启动stc-gdb，否则可能出现以下报错：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Attaching to process 448655</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Could not attach to process. Try again as the root user or the sudoers.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ptrace: Operation not permitted.</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="代码示例">代码示例<a href="#代码示例" class="hash-link" aria-label="Direct link to 代码示例" title="Direct link to 代码示例" translate="no">​</a></h3>
<p>示例异构程序源文件hello_world.hc，代码如下：</p>
<div class="language-C++ language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Copyright (c) 2019-2021 北京希姆计算科技有限公司 (Stream Computing Inc.)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * All Rights Reserved.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * NOTICE: All intellectual and technical information contained herein</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * are proprietary to Stream Computing Inc. Any unauthorized disemination,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * copying or redistribution of this file via any medium is strictly prohibited,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * unless you get a prior written permission or an applicable license agreement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * from Stream Computing Inc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * This example uses NPURT API &#x27;printf&#x27; to print device message in host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * terminal.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;asm_macro.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;hpe.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;npurt.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;stdio.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__global__ void hello(void) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    while (1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        printf(&quot;hello world from core %d/%d.\n&quot;, CoreID, CoreNum);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define NCORE 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main(void) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printf(&quot;running hello_world......\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hello&lt;&lt;&lt;NCORE&gt;&gt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stcDeviceSynchronize();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>编译获得含有调试信息的文件。在编译程序时添加<code>-g</code>选项，即可生成含有调试信息的⼆进制⽂件。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stcc --rtlib=compiler-rt hello_world.hc -g -o hello_world</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用stc-prof获取性能数据核函数粒度">使用stc-prof获取性能数据（核函数粒度）<a href="#使用stc-prof获取性能数据核函数粒度" class="hash-link" aria-label="Direct link to 使用stc-prof获取性能数据（核函数粒度）" title="Direct link to 使用stc-prof获取性能数据（核函数粒度）" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="命令说明-1">命令说明<a href="#命令说明-1" class="hash-link" aria-label="Direct link to 命令说明" title="Direct link to 命令说明" translate="no">​</a></h3>
<p>执行<code>stc-prof --help</code>获取stc-prof命令的使用方法：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof --help</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OVERVIEW: function tracer for stream computing heterogeneous program</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Usage: stc-prof [--version] [--help] [COMMAND [OPTION...] [program]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COMMAND:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  record                        Record target program performance data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OPTION:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --output-dir=&quot;dir&quot;      Specify output data dir, default is stc-prof.data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --multi-thread            profiling multi-thread by thread group id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dump                          Output Chrome tracer file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OPTION:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --input-dir=&quot;dir&quot;         Specify input data dir, default is stc-prof.data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  summary                       Output summary of target program performance data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OPTION:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --input-dir=&quot;dir&quot;         Specify input data dir, default is stc-prof.data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --target-pid=&quot;pid&quot;        Specify output process id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --target-tid=&quot;tid&quot;        Specify output thread id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  detail                        Output detail of target program performance data. Multiple sub-module names separated by comma can be supported</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    OPTION:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --input-dir=&quot;dir&quot;         Specify input data dir, default is stc-prof.data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --sub-module=&quot;DEFAULT&quot;    Output detail of target program cycle and cache performance data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --sub-module=&quot;VME&quot;        Output detail of target program VME performance data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --sub-module=&quot;MTE&quot;        Output detail of target program MTE performance data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --sub-module=&quot;MME&quot;        Output detail of target program MME performance data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --sub-module=&quot;PAL&quot;        Output detail of target program parallel data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --sub-module=&quot;MCU&quot;        Output detail of target program MCU performance data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --sub-module=&quot;MEMORY&quot;     Output detail of target program Memory data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --sub-module=&quot;MEMORY-COL&quot; Output detail of target program Memory collision data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      SUB-OPTION:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           --target-pid=&quot;pid&quot;   Specify output process id when --sub-module assigned</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           --target-tid=&quot;tid&quot;   Specify output thread  id when --sub-module assigned</span><br></span></code></pre></div></div>
<p>stc-prof支持以下命令：</p>
<table><thead><tr><th><strong>命令</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><code>record</code></td><td>执行目标程序并采集性能数据，采集过程中不会额外打印信息，默认按tid进行采集。采集结果默认保存在stc-prof.data目录中，并最多保存两次执行的采集结果，最近一次的结果存放stc-prof.data目录中，上一次的存放在在stc-prof.data.old目录中。此外，也可用户自行使用参数指定结果保存路径。<br><code>--output-dir</code>：指定结果保存路径。<br><code>--multi-thread</code>：指定按pid进行采集。</td></tr><tr><td><code>dump</code></td><td>基于stc-prof.data目录中的性能数据输出CTF文件，其中包括了HPE Runtime API、stream的信息。CTF（Chrome Tracer File）文件是一类文本文件，使用JSON格式保存，用于描述各类事件发生与结束的时间。您可以使用Chrome Tracer Viewer（chrome://tracing/）打开CTF文件，可视化查看程序执行时间轴。<br>默认读取stc-prof.data目录中的采集结果，若在采集数据时，自行指定了保存路径，需使用参数指定结果保存的路径。<br><code>--input-dir</code>：指定结果保存路径。</td></tr><tr><td><code>summary</code></td><td>基于stc-prof.data目录中的性能数据展示概要信息，包括HPE Runtime API调用耗时、核函数执行耗时、sysDMA使用情况、主机端设备端数据搬移情况。支持指定以下选项进行筛选：<br><code>--target-pid</code>：筛选指定pid的性能数据。<br><code>--target-tid</code>：筛选指定tid的性能数据。<br>默认读取stc-prof.data目录中的采集结果，若在采集数据时，自行指定了保存路径，需使用参数指定结果保存的路径。<br><code>--input-dir</code>：指定结果保存路径。</td></tr><tr><td><code>detail</code></td><td>基于stc-prof.data目录中的性能数据展示核函数执行过程中指定类型的详细执行信息，支持指定以下选项进行筛选：<br><code>--sub-module</code>：筛选指定类型的性能数据。支持通过逗号分隔指定多个类型，但输出信息的顺序与参数顺序无关，例如<code>stc-prof detail --sub-module=&quot;VME,MME&quot;</code>筛选VME、MME指令的性能信息。<br><code>--target-pid</code>：在指定<code>--sub-module</code>的基础上，筛选指定pid的性能数据。<br><code>--target-tid</code>：在指定<code>--sub-module</code>的基础上，筛选指定tid的性能数据。<br>支持筛选的类型如下：<br><code>DEFAULT</code>：输出多个模块汇总的性能信息，包括cycle数和cache miss计数。<br><code>VME</code>：输出VME指令相关的性能信息。VME（Vector MAC Engine）用于执行向量运算，支持两类向量运算指令，VME-CU由希姆计算自定义的向量运算指令，VME-VEC为RISC-V原生的向量运算指令。<br><code>MTE</code>：输出MTE指令相关的性能信息。MTE（Memory Transfer Engine）用于搬运数据。<br><code>MME</code>：输出MME指令相关的性能信息。MME（Matrix MAC Engine）用于执行矩阵运算。<br><code>PAL</code>：输出并行度相关的性能信息。PAL（Parallelism）用于评估运算时并行执行多种指令的占比，并行度高代表充分利用了硬件。<br><code>MCU</code>：输出MCU指令相关的性能信息。MCU（Micro Controller Unit）用于管理在NPU上执行的任务，负责包括但不限于解释指令、发射指令等。<br><code>MEMORY</code>：输出全局内存（DDR）/共享内存（LLB）/本地内存（L1）相关性能信息。<br><code>MEMORY-COL</code>：输出全局内存（DDR）/共享内存（LLB）/本地内存（L1）冲突相关信息。一般内存会划分为不同的块，如果在同一时刻访问同一块内存时会产生冲突，需要排队使用，从而导致性能下降。默认读取stc-prof.data目录中的采集结果，若在采集数据时，自行指定了保存路径，需使用参数指定结果保存的路径。<br><code>--input-dir</code>：指定输入路径。<br></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用流程-1">使用流程<a href="#使用流程-1" class="hash-link" aria-label="Direct link to 使用流程" title="Direct link to 使用流程" translate="no">​</a></h3>
<p>使用stc-prof的分析程序性能的流程如下：</p>
<ol>
<li>
<p>通过<code>record</code>命令采集执行的目标程序的性能数据。目前工具支持HC文件编译后的二进制文件和模型用例。性能数据默认保存在<code>stc-prof.data</code>文件目录中，也可使用<code>--output-dir</code>参数选项指定性能数据输出目录。</p>
<ul>
<li>
<p>以matrix-multiply的代码HC文件（代码请参考代码示例中matrix-multiply.hc文件）为例，先编译源文件，再通过<code>record</code>命令采集执行程序的性能数据：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stcc --rtlib=compiler-rt matrix-multiply.hc -o matrix-multiply</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof record --output-dir=data-stc-prof ./matrix-multiply</span><br></span></code></pre></div></div>
<blockquote>
<p>说明：性能数据输出目录路径长度不能大于225个字节，相对路径将展开成绝对路径计算长度。</p>
</blockquote>
</li>
<li>
<p>采集模型性能数据，以用例入口为<code>test_deepfm.py</code>中的test_deepfm接口为例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof record --output-dir=data-stc-prof python3 -m pytest -s test_deepfm.py </span><br></span></code></pre></div></div>
<blockquote>
<p>说明：您可以请自行实现模型用例，或者联系希姆计算技术支持提供协助。</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>通过相关命令展示性能数据。展示性能数据时，默认读取stc-prof.data目录下的性能数据，若在采集性能数据时，指定了存储目录，则需要使用<code>--input-dir</code>参数选项指定输入目录。</p>
<ul>
<li>
<p>导出性能数据并转存成CTF文件。生成文件的名字可自定义，这里以perf_events.json为例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof dump --input-dir=data-stc-prof &gt; perf_events.json </span><br></span></code></pre></div></div>
</li>
<li>
<p>展示概要信息：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof summary --input-dir=data-stc-prof</span><br></span></code></pre></div></div>
</li>
<li>
<p>以展示VME指令的详细性能信息为例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --input-dir=data-stc-prof --sub-module=&quot;VME&quot; </span><br></span></code></pre></div></div>
</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="命令示例-1">命令示例<a href="#命令示例-1" class="hash-link" aria-label="Direct link to 命令示例" title="Direct link to 命令示例" translate="no">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="record">record<a href="#record" class="hash-link" aria-label="Direct link to record" title="Direct link to record" translate="no">​</a></h4>
<p>采集执行的目标程序的性能数据。以执行matrix-multiply采集性能数据为例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof record ./matrix-multiply</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matrix multiply result:0.0, 36.0, 72.0, 108.0, 144.0, 180.0, 216.0, 252.0, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd stc-prof.data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">default.opts  stc-addition-226044.db  stc-addition-pid.db</span><br></span></code></pre></div></div>
<p>也可使用<code>--output-dir</code>参数选项指定性能数据输出目录。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof record  --output-dir=data-stc-prof ./matrix-multiply</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreNum is 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matrix multiply result:0.0, 36.0, 72.0, 108.0, 144.0, 180.0, 216.0, 252.0, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd data-stc-prof</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">default.opts  stc-addition-29234.db  stc-addition-pid.db</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dump">dump<a href="#dump" class="hash-link" aria-label="Direct link to dump" title="Direct link to dump" translate="no">​</a></h4>
<p>导出性能数据并转存成CTF文件，文件可使用Chrome Tracer Viewer查看程序执行时间轴，示例如下：</p>
<ol>
<li>
<p>导出性能数据并转存成CTF文件。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof dump &gt; perf_events.json</span><br></span></code></pre></div></div>
<p>若在采集目标程序的性能数据时指定了输出性能数据输出目录，需在导出性能数据时设置性能数据输入目录。示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof dump --input-dir=data-stc-prof &gt; perf_events.json</span><br></span></code></pre></div></div>
</li>
<li>
<p>打开Chrome Tracer Viewer（chrome://tracing/），单击<strong>Load</strong>然后选择perf_events.json即可。</p>
</li>
</ol>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-prof-01-be0e158fd68b654d99ee75cdad2bb0f6.png" width="1280" height="598" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="summary">summary<a href="#summary" class="hash-link" aria-label="Direct link to summary" title="Direct link to summary" translate="no">​</a></h4>
<p>展示摘要信息的示例如下：</p>
<blockquote>
<p>说明：当内容大于屏幕的高度或者宽度时，可以通过方向键显示被折叠的内容。</p>
</blockquote>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof summary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pid:226044</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tid:226044</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HPE Runtime API Info:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Pid    Total Time           Avg Time             Total CPU Time       Avg CPU Time         Calls  Function                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ====== ==================== ==================== ==================== ==================== ====== ================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 226044             2.695 us             2.695 us             2.583 us             2.583 us      1 stcDeviceSynchronize            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 226044           300.060 us            75.015 us           300.038 us            75.010 us      4 stcMalloc                       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 226044             2.657 us             2.657 us             2.571 us             2.571 us      1 stcMallocHigh                   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 226044             4.284 us             1.428 us             4.208 us             1.403 us      3 stcFree                         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 226044           107.231 us            35.744 us            42.850 us            14.283 us      3 stcMemcpy                       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 226044             2.754 us             2.754 us             2.675 us             2.675 us      1 stcConfigureCall                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 226044         16601.934 us         16601.934 us           723.381 us           723.381 us      1 stcLaunchKernel                 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 226044         14274.015 us         14274.015 us           653.996 us           653.996 us      1 stcModuleLoadData               </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 226044            25.512 us            25.512 us            25.431 us            25.431 us      1 stcRegisterFatBinary            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 226044             0.808 us             0.808 us             0.696 us             0.696 us      1 stcUnregisterFatBinary          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 226044             4.114 us             4.114 us             3.585 us             3.585 us      1 stcRuntimeGetVersion            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ------ -------------------- -------------------- -------------------- -------------------- ------ --------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Kernel Functions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Kernel-Function                          Duration         MCU      MTE      MME      VME-CU   VME-VEC  TID     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ======================================== ================ ======== ======== ======== ======== ======== ========</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> matmul_kernel                        (8) 294.456       us 90582      65       28       11       0        226044  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ---------------------------------------- ---------------- -------- -------- -------- -------- -------- --------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Kernel Functions Memory(SysDMA):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Kernel-Function                          DMA-ID   C0 (DDR -&gt; LLB)           C1 (LLB -&gt; DDR)           TID     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ======================================== ======== ========================= ========================= ========</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> matmul_kernel                            sysdma_0       0 B (  0.0000 GB/s)       0 B (  0.0000 GB/s)   226044</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> matmul_kernel                            sysdma_1       0 B (  0.0000 GB/s)      16 B (  0.2388 GB/s)   226044</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ---------------------------------------- -------- ------------------------- ------------------------- --------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEVICE_TO_HOST size:       16 B          speed: 0.0011 GB/s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST_TO_DEVICE size:   29.14 KB          speed: 0.2947 GB/s</span><br></span></code></pre></div></div>
<p>若在采集目标程序的性能数据时指定了输出性能数据输出目录，需在展示摘要信息时设置性能数据输入目录。示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof summary --input-dir=data-stc-prof</span><br></span></code></pre></div></div>
<p>各列输出信息描述如下：</p>
<table><thead><tr><th><strong>项目</strong></th><th><strong>示例值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>pid</td><td>226044</td><td>执行程序所在的进程ID。</td></tr><tr><td>tid</td><td>226044</td><td>执行程序所在的线程ID。</td></tr><tr><td>HPE Runtime API Info</td><td>Total Time：300.060 us<br>Avg Time：75.015 us<br>Total CPU Time：300.038 us<br>Avg CPU Time：75.010 us<br>Calls：4<br>Function：stcMalloc</td><td>HPE Runtime API调用耗时，包括以下项目：<br>Total Time：调用某个API消耗的总执行时间。<br>Avg Time：单次调用某个API消耗的平均执行时间。<br>Total CPU Time：调用某个API消耗的总CPU时间。<br>Avg CPU Time：单次调用某个API消耗的平均CPU时间。<br>Calls：调用API的次数。<br>Function：调用的API。</td></tr><tr><td>Kernel Functions</td><td>Kernel-Function：matmul_kernel (8) <br>Duration：294.456 us<br>MCU：90582<br>MTE：65<br>MME：28<br>VME-CU：11<br>VME-VEC：0<br>TID：226044</td><td>在NPC执行核函数的性能数据信息：<br>Kernel-Function：核函数名称。<br>Duration：核函数执行耗时。<br>MCU：MCU指令耗费的cycle数。<br>MTE：MTE指令耗费的cycle数。<br>MME：MME指令耗费的cycle数。<br>VME-CU：希姆计算自定义向量运算指令耗费的cycle数。<br>VME-VEC：RISC-V原生向量运算指令耗费的cycle数。<br>TID：执行程序所在的线程ID。</td></tr><tr><td>Kernel Functions Memory</td><td>Kernel-Function：matmul_kernel<br>DMA-ID：sysdma_1<br>C0 (DDR -&gt; LLB)：0 B (  0.0000 GB/s)<br>C1 (LLB -&gt; DDR)：16 B (  0.2388 GB/s)<br>TID：226044</td><td>sysDMA使用情况，包括以下项目：<br>Kernel-Function：核函数名称。<br>DMA-ID：DMA控制器的ID。<br>C0 (DDR -&gt; LLB)：DMA控制器Channel 0，执行程序时从DDR向LLB搬运的数据量和带宽。<br>C1 (LLB -&gt; DDR)：DMA控制器Channel 1，执行程序时从LLB向DDR搬运的数据量和带宽。<br>TID：执行程序所在的线程ID。</td></tr><tr><td>DEVICE_TO_HOST</td><td>size:       16 B          speed: 0.0011 GB/s</td><td>设备端向主机端搬运的数据量和带宽。</td></tr><tr><td>HOST_TO_DEVICE</td><td>size:   29.14 KB          speed: 0.2947 GB/s</td><td>主机端向设备端搬运的数据量和带宽。</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="detail">detail<a href="#detail" class="hash-link" aria-label="Direct link to detail" title="Direct link to detail" translate="no">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="default">DEFAULT<a href="#default" class="hash-link" aria-label="Direct link to DEFAULT" title="Direct link to DEFAULT" translate="no">​</a></h5>
<p>输出多个模块汇总性能信息的示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --sub-module=&quot;DEFAULT&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matmul_kernel: (cluster_0 tid:226044) duration: 294.456 us</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NPC-CORE    MCU-CYCLE     MTE       MME       VME-CU    VME-VEC   DCACHE MISS   ICACHE MISS </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ==========  ============  ========  ========  ========  ========  ============  ============</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_00          137404        84        28        11         0            37           215</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_01           80360        84        28        11         0            15           137</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_02           80652        68        28        11         0            15           136</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_03           80272        68        28        11         0            15           136</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_04           80032        68        28        11         0            15           139</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_05           79200        51        28        11         0            15           137</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_06           79548        52        28        11         0            15           140</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_07           79604        52        28        11         0            15           137</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ----------  ------------  --------  --------  --------  --------  ------------  ------------</span><br></span></code></pre></div></div>
<p>若在采集目标程序的性能数据时指定了输出性能数据输出目录，需设置性能数据输入目录。示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --input-dir=data-stc-prof --sub-module=&quot;DEFAULT&quot; </span><br></span></code></pre></div></div>
<p>各列输出信息描述如下：</p>
<table><thead><tr><th><strong>项目</strong></th><th><strong>示例值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>NPC-CORE</td><td>NPC_00</td><td>核函数使用的NPC Core的ID。</td></tr><tr><td>MCU-CYCLE</td><td>137404</td><td>MCU指令耗费的cycle数。</td></tr><tr><td>MTE</td><td>84</td><td>MTE指令耗费的cycle数。</td></tr><tr><td>MME</td><td>28</td><td>MME指令耗费的cycle数。</td></tr><tr><td>VME-CU</td><td>11</td><td>希姆计算自定义向量运算指令耗费的cycle数。</td></tr><tr><td>VME-VEC</td><td>0</td><td>RISC-V原生向量运算指令耗费的cycle数。</td></tr><tr><td>DCACHE-MISS</td><td>37</td><td>DCACHE MISS计数。</td></tr><tr><td>ICACHE-MISS</td><td>215</td><td>ICACHE MISS计数。</td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="vme">VME<a href="#vme" class="hash-link" aria-label="Direct link to VME" title="Direct link to VME" translate="no">​</a></h5>
<p>输出VME指令相关性能信息的示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --sub-module=&quot;VME&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matmul_kernel: (cluster_0 tid:226044) duration: 294.456 us</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NPC-CORE    VME-CU    VME-CU INST    VME-VEC   VME-VEC INST   VME      VME-MME  VME-MTE  VME-MME-MTE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ==========  ========  =============  ========  =============  ======================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_00          11              1         0              0   8.9%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_01          11              1         0              0   8.9%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_02          11              1         0              0  10.3%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_03          11              1         0              0  10.3%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_04          11              1         0              0  10.3%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_05          11              1         0              0  12.2%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_06          11              1         0              0  12.1%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_07          11              1         0              0  12.1%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ----------  --------  -------------  --------  -------------  --------------------------------------</span><br></span></code></pre></div></div>
<p>若在采集目标程序的性能数据时指定了输出性能数据输出目录，需设置性能数据输入目录。示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --input-dir=data-stc-prof --sub-module=&quot;VME&quot; </span><br></span></code></pre></div></div>
<p>各列输出信息描述如下：</p>
<table><thead><tr><th><strong>项目</strong></th><th><strong>示例值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>NPC-CORE</td><td>NPC_00</td><td>核函数使用的NPC Core的ID。</td></tr><tr><td>VME-CU</td><td>11</td><td>希姆计算自定义向量运算指令耗费的cycle数。</td></tr><tr><td>VME-CU INST</td><td>1</td><td>希姆计算自定义向量运算指令的数量。</td></tr><tr><td>VME-VEC</td><td>0</td><td>RISC-V原生向量运算指令耗费的cycle数。</td></tr><tr><td>VME-VEC INST</td><td>0</td><td>RISC-V原生向量运算指令的数量。</td></tr><tr><td>VME</td><td>8.9%</td><td>执行VME指令占wall-clock time的百分比。</td></tr><tr><td>VME-MME</td><td>0.0%</td><td>并行执行VME、MME指令的并行度，即占wall-clock time的百分比。</td></tr><tr><td>VME-MTE</td><td>0.0%</td><td>并行执行VME、MTE指令的并行度，即占wall-clock time的百分比。</td></tr><tr><td>VME-MME-MTE</td><td>0.0%</td><td>并行执行VME、MME、MTE指令的并行度，即占wall-clock time的百分比。</td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="mte">MTE<a href="#mte" class="hash-link" aria-label="Direct link to MTE" title="Direct link to MTE" translate="no">​</a></h5>
<p>输出MTE指令相关性能信息的示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --sub-module=&quot;MTE&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matmul_kernel: (cluster_0 tid:226044) duration: 294.456 us</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NPC-CORE    MTE       MTE INST    MTE      MTE-MME  MTE-VME  MTE-MME-VME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ==========  ========  ==========  ======================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_00          84           1  68.3%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_01          84           1  68.3%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_02          68           1  63.6%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_03          68           1  63.6%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_04          68           1  63.6%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_05          51           1  56.7%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_06          52           1  57.1%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_07          52           1  57.1%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ----------  --------  ----------  --------------------------------------</span><br></span></code></pre></div></div>
<p>若在采集目标程序的性能数据时指定了输出性能数据输出目录，需设置性能数据输入目录。示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --input-dir=data-stc-prof --sub-module=&quot;MTE&quot; </span><br></span></code></pre></div></div>
<p>各列输出信息描述如下：</p>
<table><thead><tr><th><strong>项目</strong></th><th><strong>示例值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>NPC-CORE</td><td>NPC_00</td><td>核函数使用的NPC Core的ID。</td></tr><tr><td>MTE</td><td>84</td><td>MTE指令耗费的cycle数。</td></tr><tr><td>MTE INST</td><td>1</td><td>MTE指令的数量。</td></tr><tr><td>MTE</td><td>68.3%</td><td>执行MTE指令占wall-clock time的百分比。</td></tr><tr><td>MTE-MME</td><td>0.0%</td><td>并行执行MTE、MME指令的并行度，即占wall-clock time的百分比。</td></tr><tr><td>MTE-VME</td><td>0.0%</td><td>并行执行MTE、VME指令的并行度，即占wall-clock time的百分比。</td></tr><tr><td>MTE-MME-VME</td><td>0.0%</td><td>并行执行MTE、MME、VME指令的并行度，即占wall-clock time的百分比。</td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="mme">MME<a href="#mme" class="hash-link" aria-label="Direct link to MME" title="Direct link to MME" translate="no">​</a></h5>
<p>输出MME指令相关性能信息的示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --sub-module=&quot;MME&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matmul_kernel: (cluster_0 tid:226044) duration: 294.456 us</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NPC-CORE    MME       MME INST    MME      MME-VME  MME-MTE  MME-VME-MTE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ==========  ========  ==========  ======================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_00          28           1  22.8%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_01          28           1  22.8%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_02          28           1  26.2%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_03          28           1  26.2%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_04          28           1  26.2%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_05          28           1  31.1%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_06          28           1  30.8%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_07          28           1  30.8%      0.0%     0.0%         0.0%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ----------  --------  ----------  --------------------------------------</span><br></span></code></pre></div></div>
<p>若在采集目标程序的性能数据时指定了输出性能数据输出目录，需设置性能数据输入目录。示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --input-dir=data-stc-prof --sub-module=&quot;MME&quot; </span><br></span></code></pre></div></div>
<p>各列输出信息描述如下：</p>
<table><thead><tr><th><strong>项目</strong></th><th><strong>示例值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>NPC-CORE</td><td>NPC_00</td><td>核函数使用的NPC Core的ID。</td></tr><tr><td>MME</td><td>28</td><td>自定义MME指令的cycle数。</td></tr><tr><td>MME INST</td><td>1</td><td>自定义MME指令的数量。</td></tr><tr><td>MME</td><td>22.8%</td><td>执行MME指令占wall-clock time的百分比。</td></tr><tr><td>MME-VME</td><td>0.0%</td><td>并行执行MME、VME指令的并行度，即占wall-clock time的百分比。</td></tr><tr><td>MME-MTE</td><td>0.0%</td><td>并行执行MME、MTE指令的并行度，即占wall-clock time的百分比。</td></tr><tr><td>MME-VME-MTE</td><td>0.0%</td><td>并行执行MME、VME、MTE指令的并行度，即占wall-clock time的百分比。</td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="pal">PAL<a href="#pal" class="hash-link" aria-label="Direct link to PAL" title="Direct link to PAL" translate="no">​</a></h5>
<p>输出并行度相关性能信息的示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --sub-module=&quot;PAL&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matmul_kernel: (cluster_0 tid:226044) duration: 294.456 us</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NPC-CORE    PAL(ALL)          PAL(MTE/MME)      PAL(MTE/VME)      PAL(VME/MME)    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ==========  ================  ================  ================  ================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_00           0(0.000%)         0(0.000%)         0(0.000%)         0(0.000%)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_01           0(0.000%)         0(0.000%)         0(0.000%)         0(0.000%)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_02           0(0.000%)         0(0.000%)         0(0.000%)         0(0.000%)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_03           0(0.000%)         0(0.000%)         0(0.000%)         0(0.000%)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_04           0(0.000%)         0(0.000%)         0(0.000%)         0(0.000%)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_05           0(0.000%)         0(0.000%)         0(0.000%)         0(0.000%)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_06           0(0.000%)         0(0.000%)         0(0.000%)         0(0.000%)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_07           0(0.000%)         0(0.000%)         0(0.000%)         0(0.000%)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ----------  ----------------  ----------------  ----------------  ----------------</span><br></span></code></pre></div></div>
<p>若在采集目标程序的性能数据时指定了输出性能数据输出目录，需设置性能数据输入目录。示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --input-dir=data-stc-prof --sub-module=&quot;PAL&quot; </span><br></span></code></pre></div></div>
<p>各列输出信息描述如下：</p>
<table><thead><tr><th><strong>项目</strong></th><th><strong>示例值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>NPC-CORE</td><td>NPC_00</td><td>核函数使用的NPC Core的ID。</td></tr><tr><td>PAL(ALL)</td><td>0(0.000%)</td><td>并行执行MTE、MME、VME指令的并行度，即占wall-clock time的百分比。</td></tr><tr><td>PAL(MTE/MME)</td><td>0(0.000%)</td><td>并行执行MTE、MME指令的并行度，即占wall-clock time的百分比。</td></tr><tr><td>PAL(MTE/VME)</td><td>0(0.000%)</td><td>并行执行MTE、VME指令的并行度，即占wall-clock time的百分比。</td></tr><tr><td>PAL(VME/MME)</td><td>0(0.000%)</td><td>并行执行VME、MME指令的并行度，即占wall-clock time的百分比。</td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="mcu">MCU<a href="#mcu" class="hash-link" aria-label="Direct link to MCU" title="Direct link to MCU" translate="no">​</a></h5>
<p>输出MCU指令相关性能信息的示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --sub-module=&quot;MCU&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matmul_kernel: (cluster_0 tid:226044) duration: 294.456 us</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NPC-CORE    MCU INST      MCU CYCLE     DCACHE MISS   ICACHE MISS </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ==========  ============  ============  ============  ============</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_00            7487        137404            37           215</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_01            4186         80360            15           137</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_02            4186         80652            15           136</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_03            4186         80272            15           136</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_04            4186         80032            15           139</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_05            4186         79200            15           137</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_06            4186         79548            15           140</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NPC_07            4186         79604            15           137</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ----------  ------------  ------------  ------------  ------------</span><br></span></code></pre></div></div>
<p>若在采集目标程序的性能数据时指定了输出性能数据输出目录，需设置性能数据输入目录。示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --input-dir=data-stc-prof --sub-module=&quot;MCU&quot; </span><br></span></code></pre></div></div>
<p>各列输出信息描述如下：</p>
<table><thead><tr><th><strong>项目</strong></th><th><strong>示例值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>NPC-CORE</td><td>NPC_00</td><td>核函数使用的NPC Core的ID。</td></tr><tr><td>MCU INST</td><td>7487</td><td>MCU指令的数量。</td></tr><tr><td>MCU CYCLE</td><td>137404</td><td>MCU指令耗费的cycle数。</td></tr><tr><td>DCACHE MISS</td><td>37</td><td>DCACHE MISS计数。</td></tr><tr><td>ICACHE MISS</td><td>215</td><td>ICACHE MISS计数。</td></tr></tbody></table>
<blockquote>
<p>说明：指定MCU可能比指定DEFAULT统计出的MCU CYCLE数量偏大。由于指定MCU时统计对象为non-stopable的第三方寄存器，而指定DEFAULT时会在核函数执行结束后立即停止计数。</p>
</blockquote>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="memory">MEMORY<a href="#memory" class="hash-link" aria-label="Direct link to MEMORY" title="Direct link to MEMORY" translate="no">​</a></h5>
<p>输出DDR/LLB/L1相关性能信息的示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --sub-module=&quot;MEMORY&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matmul_kernel: (cluster_0 tid:226044) duration: 294.456 us</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> SYSDMA-ID  C0 (DDR -&gt; LLB)          C1 (LLB -&gt; DDR)         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ======================================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> sysdma_0   0 B (0.000 GB/s)         0 B (0.000 GB/s)        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> sysdma_1   0 B (0.000 GB/s)         16 B (0.239 GB/s)       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ******************************************************************************************************</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC-CORE   ICMOV                    PLD                      L1 -&gt; LLB                LLB -&gt; L1               </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ======================================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_00      0 B (0 GB/s)             0 B (0 GB/s)             2 B (0.025 GB/s)         0 B (0 GB/s)            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_01      0 B (0 GB/s)             0 B (0 GB/s)             2 B (0.025 GB/s)         0 B (0 GB/s)            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_02      0 B (0 GB/s)             0 B (0 GB/s)             2 B (0.031 GB/s)         0 B (0 GB/s)            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_03      0 B (0 GB/s)             0 B (0 GB/s)             2 B (0.031 GB/s)         0 B (0 GB/s)            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_04      0 B (0 GB/s)             0 B (0 GB/s)             2 B (0.031 GB/s)         0 B (0 GB/s)            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_05      0 B (0 GB/s)             0 B (0 GB/s)             2 B (0.042 GB/s)         0 B (0 GB/s)            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_06      0 B (0 GB/s)             0 B (0 GB/s)             2 B (0.041 GB/s)         0 B (0 GB/s)            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_07      0 B (0 GB/s)             0 B (0 GB/s)             2 B (0.041 GB/s)         0 B (0 GB/s)            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ------------------------------------------------------------------------------------------------------</span><br></span></code></pre></div></div>
<p>若在采集目标程序的性能数据时指定了输出性能数据输出目录，需设置性能数据输入目录。示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --input-dir=data-stc-prof --sub-module=&quot;MEMORY&quot; </span><br></span></code></pre></div></div>
<p>各列输出信息描述如下：</p>
<table><thead><tr><th><strong>项目</strong></th><th><strong>示例值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>SYSDMA-ID</td><td>sysdma_1</td><td>核函数使用的DMA控制器的ID。</td></tr><tr><td>C0 (DDR -&gt; LLB)</td><td>0 B (0.000 GB/s)</td><td>DMA控制器Channel 0，执行程序时从DDR向LLB搬运的数据量和带宽。</td></tr><tr><td>C1 (LLB -&gt; DDR)</td><td>16 B (0.239 GB/s)</td><td>DMA控制器Channel 1，执行程序时从LLB向DDR搬运的数据量和带宽。</td></tr><tr><td>NPC-CORE</td><td>NPC_00</td><td>核函数使用的NPC Core的ID。</td></tr><tr><td>ICMOV</td><td>0 B (0 GB/s)</td><td>MTE icmov指令相关的数据量与带宽。</td></tr><tr><td>PLD</td><td>0 B (0 GB/s)</td><td>MTE pld指令相关的数据量与带宽。</td></tr><tr><td>L1 -&gt; LLB</td><td>2 B (0.025 GB/s)</td><td>MTE mov.llb.l1指令相关的数据量与带宽。</td></tr><tr><td>LLB -&gt; L1</td><td>0 B (0 GB/s)</td><td>MTE mov.l1.llb指令相关的数据量与带宽。</td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="memory-col">MEMORY-COL<a href="#memory-col" class="hash-link" aria-label="Direct link to MEMORY-COL" title="Direct link to MEMORY-COL" translate="no">​</a></h5>
<p>输出DDR/LLB/L1冲突相关信息的示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --sub-module=&quot;MEMORY-COL&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matmul_kernel: (cluster_0,tid:226044) duration: 294.456 us</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> SYSDMA-ID  LLB COLLISION          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ======================================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> sysdma_0   0                      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> sysdma_1   0                      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ******************************************************************************************************</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC-CORE   L1 COLLISION TYPE    L1 COLLISION VAL     IM COLLISION TYPE    IM COLLISION VAL    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ======================================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_00      L1_COLS_TO_MEM       0                    IM_COLS_TO_MEM       0                   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_01      L1_COLS_TO_MEM       0                    IM_COLS_TO_MEM       0                   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_02      L1_COLS_TO_MEM       0                    IM_COLS_TO_MEM       0                   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_03      L1_COLS_TO_MEM       0                    IM_COLS_TO_MEM       0                   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_04      L1_COLS_TO_MEM       0                    IM_COLS_TO_MEM       0                   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_05      L1_COLS_TO_MEM       0                    IM_COLS_TO_MEM       0                   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_06      L1_COLS_TO_MEM       0                    IM_COLS_TO_MEM       0                   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> NPC_07      L1_COLS_TO_MEM       0                    IM_COLS_TO_MEM       0                   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ------------------------------------------------------------------------------------------------------</span><br></span></code></pre></div></div>
<p>若在采集目标程序的性能数据时指定了输出性能数据输出目录，需设置性能数据输入目录。示例如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-prof detail --input-dir=data-stc-prof --sub-module=&quot;MEMORY-COL&quot; </span><br></span></code></pre></div></div>
<p>各列输出信息描述如下：</p>
<table><thead><tr><th><strong>项目</strong></th><th><strong>示例值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>SYSDMA-ID</td><td>sysdma_1</td><td>核函数使用的DMA控制器的ID。</td></tr><tr><td>LLB COLLISION</td><td>0</td><td>在同一时刻访问了LLB上的同一块内存，记录产生冲突的次数。</td></tr><tr><td>NPC-CORE</td><td>NPC_0</td><td>核函数使用的NPC Core的ID。</td></tr><tr><td>L1 COLLISION TYPE</td><td>L1_COLS_TO_MEM</td><td>在同一时刻访问了L1上的同一块内存，产生冲突，类型标记为L1_COLS_TO_MEM。</td></tr><tr><td>L1 COLLISION VAL</td><td>0</td><td>访问L1时产生冲突的次数。</td></tr><tr><td>IM COLLISION TYPE</td><td>IM_COLS_TO_MEM</td><td>在同一时刻访问了IM（Intermediate Buffer）上的同一块内存，产生冲突，类型标记为IM_COLS_TO_MEM。</td></tr><tr><td>IM COLLISION VAL</td><td>0</td><td>访问IM时产生冲突的次数。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="代码示例-1">代码示例<a href="#代码示例-1" class="hash-link" aria-label="Direct link to 代码示例" title="Direct link to 代码示例" translate="no">​</a></h3>
<p>示例异构程序源文件matrix-multiply.hc，代码如下：</p>
<div class="language-C++ language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Copyright (c) 2019-2021 北京希姆计算科技有限公司 (Stream Computing Inc.)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * All Rights Reserved.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * NOTICE: All intellectual and technical information contained herein</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * are proprietary to Stream Computing Inc. Any unauthorized disemination,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * copying or redistribution of this file via any medium is strictly prohibited,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * unless you get a prior written permission or an applicable license agreement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * from Stream Computing Inc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * This example uses internal instructions to do matrix multiply.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;asm_macro.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;hpe.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;npurt.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;stdio.h&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// number of left matrix&#x27;s col and right matrix&#x27;s row</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define LCOL_RROW 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// local_left * local_right = local_out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__device__ void matmul(__fp16 *local_out, __fp16 *local_left,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       __fp16 *local_right) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int shape1, shape2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do matrix multiply and result must be stored in IM buffer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    shape1 = DEFINE_SHAPE(LCOL_RROW, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    shape2 = DEFINE_SHAPE(1, LCOL_RROW);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CONFIG_VE_BC_CSR(shape1, shape2, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memul_mm((__fp16 *)IM_BUFFER_START, local_left, local_right);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // move result from IM buffer to local memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    shape1 = DEFINE_SHAPE(1, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    shape2 = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CONFIG_VE_CSR(shape1, shape2, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mov_m(local_out, (__fp16 *)IM_BUFFER_START);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__global__ void matmul_kernel(__fp16 *global_out, __fp16 *global_left,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              __fp16 *global_right) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __local__ __fp16 local_left[LCOL_RROW];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __local__ __fp16 local_right[LCOL_RROW];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __local__ __fp16 local_out;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __shared__ __fp16 share_out[CoreNum];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printf(&quot;CoreNum is %d\n&quot;, CoreNum);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // copy right matrix to each core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memcpy(local_right, global_right, LCOL_RROW * sizeof(__fp16));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // copy a row of left matrix for each core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memcpy(local_left, global_left + CoreID * LCOL_RROW,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           LCOL_RROW * sizeof(__fp16));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // matrix multiply</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    matmul(&amp;local_out, local_left, local_right);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // copy result in local memory of each core to shared memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memcpy(share_out + CoreID, &amp;local_out, sizeof(__fp16));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // sync to wait each of the core compute share_out data filled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (CoreID == 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // copy result in share memory of each core to global memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        memcpy(global_out, share_out, CoreNum * sizeof(__fp16));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define NCORE 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main(void) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __fp16 *dev_left, *dev_right, *dev_out;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // left matrix data for 8 cores</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __fp16 host_left[8 * LCOL_RROW] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, // row1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, // row2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, // row3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, // row4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, // row5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, // row6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, // row7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        7.0, 7.0, 7.0, 7.0, 7.0, 7.0, 7.0, 7.0, // row8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // right matrix data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __fp16 host_right[LCOL_RROW] = {1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // copy left matrix to device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int mat_size_left = NCORE * LCOL_RROW * sizeof(__fp16);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stcMalloc((void **)&amp;dev_left, mat_size_left);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stcMemcpy(dev_left, host_left, mat_size_left, stcMemcpyHostToDevice);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // copy right matrix to device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int mat_size_right = LCOL_RROW * sizeof(__fp16);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stcMalloc((void **)&amp;dev_right, mat_size_right);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stcMemcpy(dev_right, host_right, mat_size_right, stcMemcpyHostToDevice);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // allocate result buffer in device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int mat_size_out = NCORE * sizeof(__fp16);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __fp16 host_out[NCORE];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stcMalloc((void **)&amp;dev_out, mat_size_out);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    matmul_kernel&lt;&lt;&lt;NCORE&gt;&gt;&gt;(dev_out, dev_left, dev_right);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stcDeviceSynchronize();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // copy result from device to host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stcMemcpy(host_out, dev_out, mat_size_out, stcMemcpyDeviceToHost);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printf(&quot;matrix multiply result:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (int i = 0; i &lt; NCORE; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        printf(&quot;%.1f, &quot;, (float)(host_out[i]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printf(&quot;\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stcFree(dev_left);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stcFree(dev_right);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stcFree(dev_out);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用stc-vprof可视化查看性能数据">使用stc-vprof可视化查看性能数据<a href="#使用stc-vprof可视化查看性能数据" class="hash-link" aria-label="Direct link to 使用stc-vprof可视化查看性能数据" title="Direct link to 使用stc-vprof可视化查看性能数据" translate="no">​</a></h2>
<p>stc-vprof（Stream Computing Visual Profiler）是希姆计算推出的可视化性能分析工具，您可以使用stc-vprof加载本地或远程服务器的目标程序获取性能分析结果，查看程序各阶段的耗时以及包含的指令等，并支持查看多个阶段的汇总数据、核函数数据等信息。此外，工具还支持hc文件代码编辑、管理性能分析资源、多语言切换等功能。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="前提条件-1">前提条件<a href="#前提条件-1" class="hash-link" aria-label="Direct link to 前提条件" title="Direct link to 前提条件" translate="no">​</a></h3>
<p>stc-vprof的可视化依赖JDK，请确保安装JDK 11或以上版本。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="启动stc-vprof">启动stc-vprof<a href="#启动stc-vprof" class="hash-link" aria-label="Direct link to 启动stc-vprof" title="Direct link to 启动stc-vprof" translate="no">​</a></h3>
<ol>
<li>
<p>登录服务器，stc-vprof支持显示图形界面，可使用远程连接的方式登录，例如可通过MobaXterm登录。</p>
</li>
<li>
<p>前往stc-vprof可执行文件所在的目录。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cd /usr/local/hpe/bin</span><br></span></code></pre></div></div>
</li>
<li>
<p>启动stc-vprof。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ stc-vprof</span><br></span></code></pre></div></div>
</li>
</ol>
<p>stc-vprof工具用户界面主要分为四部分：菜单栏、Project Explorer、分析结果页面和状态栏。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-01-1f48e7925995ea23a15ea722b5d9bab7.png" width="1920" height="1017" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="管理项目和分析结果">管理项目和分析结果<a href="#管理项目和分析结果" class="hash-link" aria-label="Direct link to 管理项目和分析结果" title="Direct link to 管理项目和分析结果" translate="no">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="新建项目并采集数据">新建项目并采集数据<a href="#新建项目并采集数据" class="hash-link" aria-label="Direct link to 新建项目并采集数据" title="Direct link to 新建项目并采集数据" translate="no">​</a></h4>
<ol>
<li>
<p>菜单栏选择<strong>File</strong> &gt; <strong>New Project</strong>，或左侧Project Explorer空白处右击并选择<strong>New Project</strong>。</p>
</li>
<li>
<p>在<strong>Server</strong>下拉框选择本地或远程服务器。</p>
<ul>
<li>
<p>若新建本地项目，选择localhost connection下的本地服务器。</p>
</li>
<li>
<p>若新建远程项目，选择SSH connections下的已添加的远程服务器，单击右侧<strong>Connect</strong>连接服务器，输入密码完成验证，图标变为绿色表示连接成功。此外，单击右侧<strong>Manage</strong>管理最近连接的远程服务器。在弹窗内，可对远程服务器连接进行新建、删除、编辑、连接服务器等操作。单击<strong>Create a new connection</strong>，填入远程服务器的hostname或ip地址、端口和用户名，新建新连接。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-02-ebc900dc1d8939acba188680f72adade.png" width="875" height="750" class="img_ev3q"></p>
</li>
</ul>
</li>
<li>
<p>点击<strong>open</strong>，选择目标程序。目前工具支持c、cpp、hc文件、hc编译后的二进制elf文件。</p>
<blockquote>
<p>说明：若选择的目标程序为c、c++、hc文件时，点击下方出现的目标程序链接，将弹出一个代码编辑器。详细介绍可参考<em>更多功能</em>中的<em>代码编辑器章节</em>。</p>
</blockquote>
</li>
<li>
<p>根据需求在<strong>Args</strong>右侧选择执行程序的参数（如不需要，可不选）。</p>
</li>
<li>
<p>根据需求在<strong>Collect profiling data</strong>下拉菜单选择分析结果页面展示的数据类型。</p>
<blockquote>
<p>说明：其中可选择<strong>Host trace data</strong>（默认必选项，trace数据）、<strong>Kernel function data</strong>（核函数数据）、<strong>Streams data</strong>（流数据）、<strong>Npc data</strong>（npc数据）、<strong>Range data</strong>（自定义埋点）。</p>
</blockquote>
</li>
<li>
<p>根据需求勾选<strong>stcpti</strong>选项，是否执行preload库。</p>
</li>
<li>
<p>单击<strong>start</strong>，执行目标程序，采集并显示性能分析结果。采集时，项目文件、分析结果、日志文件都会存到本地。状态栏中显示文件路径及是否使用缓存的提示语。</p>
</li>
<li>
<p>点击<strong>view log</strong>，查看运行日志和报错。</p>
</li>
</ol>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-03-b2cd3aff82c7900817c9687e63fa54bc.png" width="890" height="704" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="打开项目或分析结果">打开项目或分析结果<a href="#打开项目或分析结果" class="hash-link" aria-label="Direct link to 打开项目或分析结果" title="Direct link to 打开项目或分析结果" translate="no">​</a></h4>
<p>左侧Project Explorer面板中选中最近打开的文件项目（Project）或分析结果（Report），右键并单击<strong>Open</strong>，再次打开项目或分析结果。</p>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,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" width="224" height="125" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="删除项目或分析结果">删除项目或分析结果<a href="#删除项目或分析结果" class="hash-link" aria-label="Direct link to 删除项目或分析结果" title="Direct link to 删除项目或分析结果" translate="no">​</a></h4>
<p>左侧Project Explorer面板中选中一个或多个最近打开的文件项目（Project）或分析结果（Report），右键并单击<strong>Remove</strong>，删除项目或分析结果。</p>
<ul>
<li>标签栏中选中项目（Project）或分析结果（Report），单击关闭按钮。</li>
<li>菜单栏单击<strong>File</strong> &gt; <strong>Close编辑器当前页面名</strong> 。</li>
<li>标签页中右键点击项目（Project）或分析结果（Report）：<!-- -->
<ul>
<li>单击<strong>Close</strong>，可关闭当前项目（Project）或分析结果（Report）。</li>
<li>单击<strong>Close All Tabs</strong>，可关闭所有打开的项目（Project）或分析结果（Report）。</li>
<li>单击<strong>Close Other Tabs</strong>，只保留右键对应页面，其他的项目（Project）或分析结果（Report）关闭。</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-05-b02e311369fe5f4273fe2004d7e6756a.png" width="391" height="222" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="导入项目或分析结果">导入项目或分析结果<a href="#导入项目或分析结果" class="hash-link" aria-label="Direct link to 导入项目或分析结果" title="Direct link to 导入项目或分析结果" translate="no">​</a></h4>
<p>导入项目或分析结果时：</p>
<ul>
<li>
<p>菜单栏单击<strong>File</strong> &gt; <strong>Import Report</strong>。选择需要导入的一个或多个文件。</p>
</li>
<li>
<p>菜单栏单击<strong>File</strong> &gt; <strong>Import Recent</strong>。选择最近导入过的文件。</p>
<blockquote>
<p>说明：目前只记录通过<strong>Import Report</strong>导入的资源文件路径，最多记录5条，且记录顺序按导入时间从近到远进行排序。</p>
</blockquote>
</li>
<li>
<p>菜单栏单击<strong>File</strong> &gt; <strong>Download &amp; Import Remote Report</strong>。下载导入远程服务器上的文件。在弹出对话框中填写远程服务器地址、用户名和密码后，点击<strong>open</strong>连接远程服务器。连接成功后，选择需要导入的一个或多个文件。</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-06-edc117d7e50fdbf919df4448006b7b64.png" width="1527" height="792" class="img_ev3q"></p>
<p>导入过程中，点击<strong>cancel</strong>，可中断导入进程，结果页面将会显示已加载的内容。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-07-cbd2b91500216d9c2148750c610f01e1.png" width="1280" height="773" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="管理性能分析资源">管理性能分析资源<a href="#管理性能分析资源" class="hash-link" aria-label="Direct link to 管理性能分析资源" title="Direct link to 管理性能分析资源" translate="no">​</a></h3>
<p>性能分析资源的包括数据库文件（DB）、日志文件（Logs）、缓存文件（Cache）、项目文件（Project）和Json文件。<strong>Resource</strong> &gt; <strong>对应类型的性能分析资源</strong>，可对相应类型的资源进行导入和删除操作。此外，缓存文件（Cache）还支持合并操作。</p>
<blockquote>
<p>说明： 日志文件（Logs）不支持导入操作。</p>
</blockquote>
<p>工具还支持管理远程服务器上的相关性能分析资源。单击<strong>Resource</strong> &gt; <strong>Remote</strong>，连接远程服务后，对相应类型的资源的操作与本地性能分析资源步骤类似。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="导入性能分析资源">导入性能分析资源<a href="#导入性能分析资源" class="hash-link" aria-label="Direct link to 导入性能分析资源" title="Direct link to 导入性能分析资源" translate="no">​</a></h4>
<p>下面以数据库文件（DB）为例，介绍导入操作。</p>
<ol>
<li>
<p>菜单栏单击<strong>Resource</strong> &gt; <strong>DB</strong>，显示本地所有的DB文件。</p>
</li>
<li>
<p>勾选需要导入的DB文件。您还可以进行以下的操作：</p>
<ul>
<li>
<p>上方文本框输入字符，显示匹配到关键字的资源名称。</p>
</li>
<li>
<p>右侧查看DB文件的总数量和已选DB文件的数量。</p>
</li>
<li>
<p>右侧选中<strong>Only Show Selected</strong>，仅显示已选中的DB文件。</p>
</li>
<li>
<p>右侧单击<strong>Selected All</strong>快速全选，或单击<strong>UnSelected All</strong>取消全选。</p>
</li>
</ul>
</li>
<li>
<p>单击<strong>import</strong>，导入勾选的文件。</p>
</li>
<li>
<p>导入成功后，状态栏中显示文件路径及是否使用缓存的提示语。</p>
</li>
</ol>
<blockquote>
<p>说明：仅支持导入系统内部生成的文件，一般为显示/user_dir/stcvprof/文件夹下对应的类型的文件。</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-08-1367473146236624f83a46f4e081715f.png" width="1920" height="1001" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="清理性能分析资源">清理性能分析资源<a href="#清理性能分析资源" class="hash-link" aria-label="Direct link to 清理性能分析资源" title="Direct link to 清理性能分析资源" translate="no">​</a></h4>
<p>下面以数据库文件（DB）为例，介绍删除操作。</p>
<ol>
<li>
<p>菜单栏单击<strong>Resource</strong> &gt; <strong>DB</strong>，显示本地所有的DB文件。</p>
</li>
<li>
<p>勾选需要删除的DB文件。您还可以进行以下的操作：</p>
<ul>
<li>
<p>上方文本框输入字符，显示匹配到关键字的资源名称。</p>
</li>
<li>
<p>右侧查看DB文件的总数量和已选DB文件的数量。</p>
</li>
<li>
<p>右侧选中<strong>Only Show Selected</strong>，仅显示已选中的DB文件。</p>
</li>
</ul>
</li>
<li>
<p>单击<strong>delete</strong>，删除勾选的文件。</p>
</li>
</ol>
<blockquote>
<p>说明：仅支持导入系统内部生成的文件，一般为显示/user_dir/stcvprof/文件夹下对应的类型的文件。</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-09-1367473146236624f83a46f4e081715f.png" width="1920" height="1001" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="开启缓存配置">开启缓存配置<a href="#开启缓存配置" class="hash-link" aria-label="Direct link to 开启缓存配置" title="Direct link to 开启缓存配置" translate="no">​</a></h4>
<p>针对文件较大的情况，可通过配置项选择开启缓存机制，当再次打开文件时，可自行选择是否从历史缓存中获取。</p>
<ol>
<li>配置项页面中的<strong>General CFG</strong>中勾选<strong>cache</strong>，并设置缓存开启阈值。阈值默认值为500MB。启动配置文件中设置为BUFFER_THRESHOLD=500。</li>
<li>文件导入加载时，触发缓存机制后生成缓存，并在标签页上文件名后增加**+cache**标识。</li>
</ol>
<blockquote>
<p>说明：若导入的文件为json文件或log文件，可在弹出的对话框内自行选择数据的起止时间以及是否从缓存中加载。</p>
<ul>
<li>勾选<strong>is</strong> <strong>from history cache</strong>，工具从缓存中加载对应的结果文件导入，在标签页上文件名后会增加<strong>cache</strong>标识。</li>
<li>不勾选<strong>is</strong> <strong>from history cache</strong>，工具直接加载文件，同时生成缓存。在标签页上文件名后增加**+cache**标识。</li>
</ul>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="合并缓存文件">合并缓存文件<a href="#合并缓存文件" class="hash-link" aria-label="Direct link to 合并缓存文件" title="Direct link to 合并缓存文件" translate="no">​</a></h4>
<p>工具提供合并两个相同类型（log文件、json文件）的缓存文件的功能。</p>
<ol>
<li>菜单栏单击<strong>Resource</strong> &gt; <strong>Caches</strong>，显示本地所有的缓存文件。</li>
<li>勾选两个相同类型文件。</li>
<li>单击<strong>merge</strong>按钮，合并两个缓存文件。合并成功后，状态栏中显示文件合并完成。</li>
</ol>
<blockquote>
<p>说明：合并后的新文件是以第一个目录名称+“&amp;”+第二个目录名称来命名的，例如：perf-1.log&amp;perf-2.log。</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-10-b423a55daaa3d7d007d0748d7f0b32e0.png" width="1920" height="1001" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看性能分析结果">查看性能分析结果<a href="#查看性能分析结果" class="hash-link" aria-label="Direct link to 查看性能分析结果" title="Direct link to 查看性能分析结果" translate="no">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="分析结果页面简述">分析结果页面简述<a href="#分析结果页面简述" class="hash-link" aria-label="Direct link to 分析结果页面简述" title="Direct link to 分析结果页面简述" translate="no">​</a></h4>
<p>性能分析结果页面中包含了工具栏、设备列表、时间轴图表、属性列表，如下所示：</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-11-c1503bc397a56927f89f732a9d939bb1.png" width="1650" height="880" class="img_ev3q"></p>
<p>以查看tid_3459943(kernel)为例：</p>
<ol>
<li>
<p>在设备列表区域，选择<strong>cpu&amp;npu profile</strong> &gt; <strong>proess_3459943</strong> &gt; <strong>tid_3459943(kernel)</strong>。</p>
</li>
<li>
<p>在时间轴图表区域，自动同步以浅蓝色高亮显示tid_3459943(kernel)的时间轴，方便查看各阶段的耗时。支持高亮显示已选中的阶段、放大缩小时间轴范围等操作，以便更直观清晰地查看相关信息。以选中其中一个matmul操作为例：</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-12-bff0a6fe000a6853ccdd4293855c930e.png" width="1292" height="469" class="img_ev3q"></p>
</li>
<li>
<p>属性列表区域，自动同步显示已选中操作的各项属性，包括起始时间、结束时间、资源、指令等。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-13-acccebdc14954f258818178ff3599b69.png" width="1629" height="330" class="img_ev3q"></p>
</li>
<li>
<p>单击<strong>tid_3459943(kernel)<strong>的父节点</strong>proess_3459943</strong>，则收起其包含的节点，时间轴图表自动同步以浅蓝色高亮显示proess_3459943的时间轴。</p>
</li>
</ol>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="调整分析结果页面尺寸">调整分析结果页面尺寸<a href="#调整分析结果页面尺寸" class="hash-link" aria-label="Direct link to 调整分析结果页面尺寸" title="Direct link to 调整分析结果页面尺寸" translate="no">​</a></h5>
<p>菜单栏中，选择<strong>View</strong> &gt; <strong>Small</strong>或<strong>View</strong> &gt; <strong>Large</strong>可以调整分析结果页面尺寸：</p>
<ul>
<li>Small视图：左侧设备列表及右侧时间轴图表的高度为24像素。</li>
<li>Large视图：左侧设备列表及右侧时间轴图表的高度为44像素。</li>
</ul>
<blockquote>
<p>说明：分析结果页面的尺寸默认为Small视图。</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-14-933e40f2d0fbfe4a4bee67ab99d5a704.png" width="1893" height="806" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="全屏模式">全屏模式<a href="#全屏模式" class="hash-link" aria-label="Direct link to 全屏模式" title="Direct link to 全屏模式" translate="no">​</a></h5>
<p>菜单栏中选择<strong>View</strong> &gt; <strong>Full Screen</strong>进入全屏模式，全屏模式下收起左侧的<strong>Project Explorer</strong>面板并且仅保留当前的标签页，分析结果显示的区域更大。再单击页面右上角的缩小按钮即可返回常规模式。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-15-572f9f869003b1e707ab7a1f2c7deb96.png" width="1222" height="685" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="设备列表">设备列表<a href="#设备列表" class="hash-link" aria-label="Direct link to 设备列表" title="Direct link to 设备列表" translate="no">​</a></h4>
<p>设备列表中列出了运行程序时的进程和设备信息。您可以选择节点，然后在时间轴图表、属性列表中查看相应的分析结果。</p>
<p>以下图为例，设备列表所包含节点的含义为：</p>
<ul>
<li>tid_1095219：主机端Host CPU Trace。</li>
<li>stream_0(cluster_0)：执行核函数时所在的流。</li>
<li>tid_1095219(kernel)：核函数。</li>
<li>npc_0~npc_7：在设备端使用的NPC。对STCP920，每个cluster包含8个NPC。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-16-21b5ee50e76529e9a8475156379dfb9a.png" width="231" height="390" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="时间轴图表">时间轴图表<a href="#时间轴图表" class="hash-link" aria-label="Direct link to 时间轴图表" title="Direct link to 时间轴图表" translate="no">​</a></h4>
<p>时间轴图表中显示了运行程序时各阶段的耗时等信息。您可以选择图形bar查看详细信息，同时支持放缩图形bar、多选、查看核函数并行度等操作。选择图形后会以橘黄色高亮显示该阶段，并在属性列表中显示其属性信息。</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="缩放条形图">缩放条形图<a href="#缩放条形图" class="hash-link" aria-label="Direct link to 缩放条形图" title="Direct link to 缩放条形图" translate="no">​</a></h5>
<p>工具支持针对单个条形图和多个条形图进行操作，缩放条形图后可以拖动下方滚动条查看各时间范围内的条形图。</p>
<ul>
<li>针对单个条形图，将鼠标悬浮在待放缩的图形上，滚轮上滚放大图形，滚轮下滚缩小图形，时间轴会同步按比例放缩。</li>
<li>针对多个条形图，拖动鼠标框选多个条形图即可同时放大范围内的条形图。</li>
</ul>
<p>此外，工具还支持键盘快捷键进行缩放。英文输入模式下，按压键盘<strong>A</strong>时间轴往左滑动，按压键盘<strong>D</strong>时间轴往右滑动，按压键盘<strong>W</strong>时间轴放大，按压键盘<strong>S</strong>时间轴缩小。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-17-78989c0d19abcf2b244afbe493ce2272.png" width="1600" height="850" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="查看核函数并行度">查看核函数并行度<a href="#查看核函数并行度" class="hash-link" aria-label="Direct link to 查看核函数并行度" title="Direct link to 查看核函数并行度" translate="no">​</a></h5>
<p>工具支持查看核函数的并行度，核函数并行有利于加快处理效率。</p>
<ol>
<li>
<p>图表里，右击选中核函数线程所在行。</p>
</li>
<li>
<p>单击<strong>NPC PAL</strong>，查看并行度柱形图。柱形图中列出了每个NPC上计算的并行度，并支持切换以下模式：</p>
<ul>
<li>
<p><strong>PAL(ALL)</strong>：并行执行MTE、MME、VME指令的并行度，即wall-clock time的占百分比。</p>
</li>
<li>
<p><strong>PAL(MTE/MME)</strong>：并行执行MTE、MME指令的并行度，即wall-clock time的占百分比。</p>
</li>
<li>
<p><strong>PAL(MTE/VME)</strong>：并行执行MTE、VME指令的并行度，即wall-clock time的占百分比。</p>
</li>
<li>
<p><strong>PAL(VME/MME)</strong>：并行执行MME、VME指令的并行度，即wall-clock time的占百分比。</p>
</li>
</ul>
</li>
</ol>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-18-0fd0a354edb952f783bee27d96d1626f.png" width="1652" height="737" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="对比核函数时间轴数据">对比核函数时间轴数据<a href="#对比核函数时间轴数据" class="hash-link" aria-label="Direct link to 对比核函数时间轴数据" title="Direct link to 对比核函数时间轴数据" translate="no">​</a></h5>
<p>当多文件对比时，工具支持核函数执行数据锚点时间轴上下对齐，提供两个report的Timeline数据对比功能，方便对比时间轴图表。</p>
<ol>
<li>生成两个用于对比的报告页面，拖动其中一个报告页面，使其上下分屏放置。</li>
<li>在菜单栏单击<strong>Compare</strong> &gt; <strong>Show ComparePanel</strong>，页面底部出现ComparePanel， 最左是 &lt; 按钮，中间是滑动面板，最右是 &gt; 按钮。</li>
<li>点击底部的ComparePanel两侧按钮后，分屏时间轴自动根据上分屏对齐，并左右移动。ComparePanel滑动面板左右拖动时，上下分屏对齐左右移动报告视图。</li>
<li>点击菜单栏<strong>Compare</strong> &gt; <strong>Hide ComparePanel</strong>后底部ComparePanel操作图标隐藏显示。</li>
</ol>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-19-fa2ffaf0e51a0ab2627ac9eb706189e8.png" width="1920" height="1001" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="对比核函数数据npccycle">对比核函数数据（npc/cycle）<a href="#对比核函数数据npccycle" class="hash-link" aria-label="Direct link to 对比核函数数据（npc/cycle）" title="Direct link to 对比核函数数据（npc/cycle）" translate="no">​</a></h5>
<p>工具支持核函数数据（npc/cycle）对比，提供核函数运行参数的对比功能。</p>
<ol>
<li>鼠标框选模式在Pan以外的任意模式中，右键单击选中的npu核函数，显示<strong>NPC Compare</strong>菜单及其子菜单<strong>Source</strong>、<strong>Target</strong>。</li>
<li>点击<strong>Source</strong>，设定选中的核函数为Source内容，左侧显示对应核函数信息。</li>
<li>再选择其他NPC的核函数块右键点击<strong>NPC Compare</strong> &gt; <strong>Target</strong>，设定为Target内容，右侧显示对应核函数信息。</li>
<li>设置Source和Target对应的npu核函数后，弹窗中勾选<strong>Syn Scroll</strong>复选框后，滑动左侧框中内容，右侧框中的内容会同步滑动。不勾选<strong>Syn Scroll</strong>复选框时，可分别单独滑动查看左右两侧框中的内容，左右两边内容不联动。</li>
</ol>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-20-08c6781f12a78c4854aa4c5df76d6811.png" width="1920" height="1017" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="属性列表">属性列表<a href="#属性列表" class="hash-link" aria-label="Direct link to 属性列表" title="Direct link to 属性列表" translate="no">​</a></h4>
<p>属性列表中列出了所选bar中包括的操作。属性列表中，您可执行以下任一操作：</p>
<ul>
<li>属性列表中，单击某个操作，右侧会显示各项属性，包括起始时间、结束时间、资源、指令等。若单击的是某个核函数块，勾选<strong>BarChart</strong>复选框，可切换条形图显示。</li>
<li>属性列表中，右键某个操作，单击<strong>Show current on timeline</strong>，反向定位到图表中。</li>
<li>搜索框中关键字，单击<strong>Search，<strong>检索到的数据高亮显示在列表中，点击</strong>上下箭头</strong>可以切换选中搜索结果。点击<strong>圆形图标</strong>可在时间轴图表中高亮所有搜索结果。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-21-fbee001ef764d6fda6224981fd65f6a1.png" width="1676" height="350" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="工具栏">工具栏<a href="#工具栏" class="hash-link" aria-label="Direct link to 工具栏" title="Direct link to 工具栏" translate="no">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="切换信息显示">切换信息显示<a href="#切换信息显示" class="hash-link" aria-label="Direct link to 切换信息显示" title="Direct link to 切换信息显示" translate="no">​</a></h5>
<p>选择工具栏中的下拉框，然后执行以下任一操作：</p>
<ul>
<li>如果查看分析结果的甘特图，请选择<strong>Timeline View</strong>。</li>
<li>如果查看项目信息（summary，local envirment，stop reason），请选择<strong>Summary</strong>。</li>
<li>如果查看项目日志信息，请选择<strong>Log</strong>。</li>
</ul>
<blockquote>
<p>说明：若导入非.properties(如：db文件、json文件)，只有能查看分析结果的甘特图。</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,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" width="186" height="118" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="检索关键字">检索关键字<a href="#检索关键字" class="hash-link" aria-label="Direct link to 检索关键字" title="Direct link to 检索关键字" translate="no">​</a></h5>
<ol>
<li>工具栏的搜索框中输入关键字，单击<strong>search</strong>。</li>
<li>高亮显示检索到的行或bar，时间轴图表和属性列表也会同步显示其信息。</li>
<li>单击 &lt; 或 &gt; 切换至其他下一个搜索结果。</li>
</ol>
<p>说明：关键字大小写敏感，支持模糊查询和正则表字符串。</p>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,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" width="481" height="45" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="调节行间距">调节行间距<a href="#调节行间距" class="hash-link" aria-label="Direct link to 调节行间距" title="Direct link to 调节行间距" translate="no">​</a></h5>
<p>选择工具栏中<strong>Vertical spacing</strong>的下拉框，选择行间距。</p>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,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" width="192" height="185" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="切换鼠标框选模式">切换鼠标框选模式<a href="#切换鼠标框选模式" class="hash-link" aria-label="Direct link to 切换鼠标框选模式" title="Direct link to 切换鼠标框选模式" translate="no">​</a></h5>
<p>选择工具栏中<strong>Marquee</strong>的下拉框，然后执行以下任一操作：</p>
<ul>
<li>
<p>选择<strong>Selection</strong>：拖动鼠标框选多个bar，查看多个bar的汇总信息。</p>
<blockquote>
<p>说明：当所选过多时，在等待统计过程中边框底部进度条显示当前统计进度。</p>
</blockquote>
</li>
<li>
<p>选择<strong>Zoom</strong>：拖动鼠标框选图表内容，选取的内容被放大。</p>
</li>
<li>
<p>选择<strong>Pan</strong>：按住左右键，鼠标图标变成一个小手模样后，可对图表进行左右的拖动。</p>
</li>
<li>
<p>选择<strong>Duration</strong>：冻结图表窗口框选的范围，并显示所选范围时间长度。</p>
<blockquote>
<p>说明：释放鼠标后除非用W\S快捷键否则不会改变图表时间轴的开始结束范围。</p>
</blockquote>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-25-afa80149cb540a50c2284ae721a179f7.png" width="185" height="154" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="切换时间轴展示方式">切换时间轴展示方式<a href="#切换时间轴展示方式" class="hash-link" aria-label="Direct link to 切换时间轴展示方式" title="Direct link to 切换时间轴展示方式" translate="no">​</a></h5>
<p>选择工具栏中<strong>Format</strong>的下拉框，然后执行以下任一操作：</p>
<ul>
<li>选择**Number：**时间轴刻度展示单位为ms，向上滚动鼠标滚轮可以放大时间轴刻度，时间轴刻度单位会依次变为ms/us/ns。</li>
<li>选择**Time：**时间轴刻度单位为mm<!-- -->:ss<!-- -->，向上滚动鼠标滚轮可以放大时间轴刻度，时间轴刻度单位会变为mm:ss<!-- -->:sss<!-- -->。继续放大时间轴刻度，时间轴刻度单位会变成ms/us/ns。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,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" width="187" height="91" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="垂直标尺参考线">垂直标尺参考线<a href="#垂直标尺参考线" class="hash-link" aria-label="Direct link to 垂直标尺参考线" title="Direct link to 垂直标尺参考线" translate="no">​</a></h5>
<ol>
<li>单击<strong>Show Ruler</strong>为选中状态时，鼠标移动到图表中，将会出现一条移动的垂直标尺参考线，时刻跟随鼠标。</li>
<li>点击图表后，创建一条红色垂直标尺的参考线A，参考线顶部显示所对应的时间轴值。</li>
<li>再次点击图表的其它地方，出现另一条红色垂直标尺的参考线B。若再次点击时，将会创建一条新的红色垂直标尺的参考线C，而参考线A将会消失。</li>
</ol>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-27-0060a2366fa96b6a63233f5a1088504d.png" width="988" height="528" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="恢复默认状态">恢复默认状态<a href="#恢复默认状态" class="hash-link" aria-label="Direct link to 恢复默认状态" title="Direct link to 恢复默认状态" translate="no">​</a></h5>
<p>单击<strong>Restore</strong>，时间轴图表恢复到默认状态。</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="显示或隐藏工具栏">显示或隐藏工具栏<a href="#显示或隐藏工具栏" class="hash-link" aria-label="Direct link to 显示或隐藏工具栏" title="Direct link to 显示或隐藏工具栏" translate="no">​</a></h5>
<p>选择菜单栏中<strong>View</strong>，然后执行以下任一操作**：**</p>
<ul>
<li>如果隐藏工具栏，请选择<strong>Hide Toolbar</strong>。</li>
<li>如果显示工具栏，请选择<strong>Show Toolbar</strong>。</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="定制工具栏">定制工具栏<a href="#定制工具栏" class="hash-link" aria-label="Direct link to 定制工具栏" title="Direct link to 定制工具栏" translate="no">​</a></h5>
<ol>
<li>
<p>菜单栏中选择<strong>View</strong> &gt; <strong>Custom Toolbar</strong>。</p>
</li>
<li>
<p>打开工具栏配置窗口，您可执行以下操作：</p>
<ul>
<li>
<p>勾选需要显示或隐藏的工具栏条目。</p>
</li>
<li>
<p>单击上下按钮，对工具栏条目进行位置顺序移动。单击重置按钮，恢复工具栏条目的默认顺序和全选状态。</p>
</li>
</ul>
</li>
<li>
<p>单击**Apply and Close，**对定制后的工具栏进行保存及应用。</p>
</li>
</ol>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-28-8288b3b73a62e5cace281710aa4cb0f2.png" width="1898" height="770" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="更多功能">更多功能<a href="#更多功能" class="hash-link" aria-label="Direct link to 更多功能" title="Direct link to 更多功能" translate="no">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="更改新建项目页面布局">更改新建项目页面布局<a href="#更改新建项目页面布局" class="hash-link" aria-label="Direct link to 更改新建项目页面布局" title="Direct link to 更改新建项目页面布局" translate="no">​</a></h4>
<p>新建项目页面中：</p>
<ul>
<li>单击<strong>居中布局</strong>，布局会切换为居中布局。</li>
<li>单击<strong>左右布局</strong>，布局会切换为左右布局，左侧显示项目选项栏，右侧显示开始按钮。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAzCAYAAABsd91cAAADXElEQVR4nO2bv0orQRTGv82fTSISiDHYiI2snaSws7K00EpfwNYXyCOk1cbG0lYQe1tBQVQsDZaiSUzAiEl2dffcQnJZLyg7M0cze3d+3cKeM9/ulzNzZplYvV6PYBg7qbu7u3FrMABIHRwcjFuDAYB1dXVF8/Pz49aReCyzRuhBatwCDB8YIzTBGKEJxghNMEZoQkbkZiJCu93G09MTPM/7KU2fsG0b09PTqFQqsCwrUkxcdIYRal+bzSaGwyEWFhZg27bwYDJ4nofb21vk83nMzMxEiomLzjBCU1On04HjOL/2cMDHL81xHHQ6ncgxcdEZRmhq8jwPuVxOaiAVcrmc0BQT1rm2toaLi4tIcevr69jf3/97vbq6iuvr60ixW1tbqNfr0lOhkBH/UqlU0O/3VVJ8yeLiIs7OzpTztNttNJvNSPd2u13p2OfnZ2FtYZSM6Ha7CIJAScBXuK7LkieTif6I6XSaLVYUJSNmZ2fR7/eluoTvICJMTU2x5tQdJSNOTk4QBAG7Eb7vY2JigjWn7igZ4TgOl47EY3bWmqBUESNeX1+xt7eHVqsltWgFQYBCoYDt7W2pzdD/AJsRu7u7uL+/l86RTqexubmZWCPYpibV9k01Pu6wVEQ2m0W1WkWxWEQ2mxWO930fk5OTieuUwrAYUSqVcHR0BCKSamVHcUmuChYjADO1qMJmhO/7yps7kU8K/xssT97r9VCr1fD4+ChVGUSEfD6Per2Oubk5Dkmxg8WI4XCI4+NjPDw8KOWp1WqJNYKlfSUipFJqqVTj4w5LRRQKBWxsbKDVakm90NHUVCqVOOTEEhYjisUidnZ2pNvXEdxfceMEW5tiWVaiX6QqSka8vLxw6fgEESGTySRqp61kxMrKCgaDAetCS0TwPA/VahWHh4dseXVHyYibmxu8v79zaflEkqoBUGxff8qEn86tI0oVsby8jLe3N9ZFmogwGAywtLTEkk/EUN/32WJFUTLi9PRUaXDdIKJvr0ViRREywrZtuK7766f9XNcVOj4Z1nl+fi497uXlpdD9ojrDCK0R5XIZjUbj105YAx/HJxuNBsrlcuSYuOgMI3QaPC7H3eOiM4z5V6kmJPuTp0YYIzTBGKEJxghNMEZogjFCE4wRmmCM0IQ/kLBpz8TopyMAAAAASUVORK5CYII=" width="98" height="51" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="代码编辑器">代码编辑器<a href="#代码编辑器" class="hash-link" aria-label="Direct link to 代码编辑器" title="Direct link to 代码编辑器" translate="no">​</a></h4>
<p>当目标程序为hc文件时，工具提供了一个hc文件代码编辑器。您可以使用该编辑器对源文件代码进行编辑、编译、运行等操作。代码编辑器包括以下操作：</p>
<table><thead><tr><th><strong>操作</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><strong>File</strong> &gt; <strong>save</strong></td><td>保存当前代码文件。</td></tr><tr><td><strong>Search</strong> &gt; <strong>Find</strong></td><td>搜索字符串，其中包括大小写匹配、正则匹配和全词匹配三种匹配模式；正序、逆序和循环查找三种查找顺序模式；标记匹配结果功能；输入框支持保留历史记录等功能。</td></tr><tr><td><strong>Search</strong> &gt; <strong>Replace</strong></td><td>搜索并替换字符串，支持单个替换和全部替换。</td></tr><tr><td><strong>Search</strong> &gt; <strong>Go To Line</strong></td><td>输入行号，快速定位到指定行。</td></tr><tr><td><strong>View</strong></td><td>编辑器代码配置。</td></tr><tr><td><strong>Style</strong></td><td>编辑器皮肤风格。</td></tr><tr><td><strong>Setting</strong> &gt; <strong>Language Server</strong></td><td>添加语言服务。配置Clangd语言服务，指定Clangd的路径后，可在代码编辑器内使用代码提示，代码校验、代码补全等功能。</td></tr><tr><td><strong>Setting</strong> &gt; <strong>Compile Prefer</strong></td><td>打开首选项编译配置界面，支持自定义配置编译命令行，可对编译命令进行修改、重置、保存。</td></tr><tr><td><strong>Help</strong> &gt; <strong>Shortcut Key</strong></td><td>查看快捷键。</td></tr><tr><td><strong>Help</strong> &gt; <strong>About RSyntaxTextArea</strong></td><td>查看RSyntaxTextArea控件license。</td></tr><tr><td><strong>stcpti insert</strong></td><td>在文件中智能添加stcpti代码。</td></tr><tr><td><strong>compile</strong></td><td>编译当前hc文件，编译结果显示在输出窗口。</td></tr><tr><td><strong>profiler</strong></td><td>运行当前hc文件， 成功后在分析结果页面显示性能分析结果。</td></tr></tbody></table>
<blockquote>
<p>说明：对于本地的hc文件，支持源代码编辑和Clangd语言服务功能，而远程服务器上的hc文件，只支持代码编辑功能。</p>
</blockquote>
<p>您在使用过程中，编辑器的相关提示信息会出现在下方的控制台里，右键单击<strong>Clear</strong>，清除控制台内信息。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-31-31178421e7e0adde8ef5853e96c9f304.png" width="735" height="690" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="工具皮肤">工具皮肤<a href="#工具皮肤" class="hash-link" aria-label="Direct link to 工具皮肤" title="Direct link to 工具皮肤" translate="no">​</a></h4>
<p>菜单栏中选择<strong>Tools</strong> &gt; <strong>Options</strong> &gt; <strong>LookFeel</strong>，根据您的喜好选择工具皮肤，目前支持Light（默认）、Dark、Metal、System。下图为Dark皮肤示例：</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-32-6b0583670f66938451f919cabf4ef800.png" width="1920" height="924" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="内存监控">内存监控<a href="#内存监控" class="hash-link" aria-label="Direct link to 内存监控" title="Direct link to 内存监控" translate="no">​</a></h4>
<p>菜单栏中选择<strong>View</strong> &gt; <strong>Memory Indicator</strong>，工具界面的右下角状态栏中会出现内存指示器，显示工具使用的内存与JVM内存情况。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-33-5df1261f7b50becd52a89c3d84bc7d00.png" width="1625" height="875" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="多语言切换">多语言切换<a href="#多语言切换" class="hash-link" aria-label="Direct link to 多语言切换" title="Direct link to 多语言切换" translate="no">​</a></h4>
<p>菜单栏中选择<strong>Tools</strong> &gt; <strong>Options</strong> &gt; <strong>Language</strong>，可自行切换工具显示语言。目前工具默认语言为英文。</p>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-34-9a49c22766b88e7548bc49aef6af944b.png" width="538" height="155" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="导出核函数的运行数据">导出核函数的运行数据<a href="#导出核函数的运行数据" class="hash-link" aria-label="Direct link to 导出核函数的运行数据" title="Direct link to 导出核函数的运行数据" translate="no">​</a></h4>
<ol>
<li>
<p>Project Explorer中选中导出数据所属的Report，右键单击<strong>Export Excel</strong>。</p>
</li>
<li>
<p>对话框的左侧<strong>Kernel Functions</strong>中，显示Report中包含的NPC核函数实例。</p>
</li>
<li>
<p>选取需要导出的核函数实例，点击 &gt; &gt; ，放到右侧<strong>Export Result</strong>中。点击 &lt; &lt; ，选取的核函数重新放回左侧<strong>Kernel Functions</strong>栏中。</p>
<blockquote>
<p>说明：工具还支持在<strong>Filter</strong>输入框中输入特定字符筛选包含该字符串的核函数实例。点击<strong>Clear Filter</strong>，所有核函数重新显示。</p>
</blockquote>
</li>
<li>
<p>单击<strong>OK</strong>，选择保存csv文件的地址和文件名。</p>
</li>
<li>
<p>单击<strong>Save</strong>，导出核函数的运行数据。</p>
</li>
</ol>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-35-356b975945e14c3e43ab7beed0353544.png" width="1139" height="639" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置项说明">配置项说明<a href="#配置项说明" class="hash-link" aria-label="Direct link to 配置项说明" title="Direct link to 配置项说明" translate="no">​</a></h3>
<p>菜单栏中单击<strong>Tools</strong> &gt; **Default Settings，**打开可视化配置项页面。其中包括通用配置、渲染配置、SSH配置、字体配置和路径配置。</p>
<ul>
<li>通用配置（General CFG）中配置项有LOAD_DATA_MODE、CACHE、CHECKSUM和SHOW_TIME_SCOPE，各项详细介绍请参考启动配置的各项说明。</li>
<li>渲染配置（Render CFG）中配置项有GAP、HW_ACCELS、TID_RENDER_SAMPLES和PRE_COUNT，各项详细介绍请参考启动配置的各项说明。</li>
<li>远程配置（SSH CFG）中主要包括所有的远程连接列表。</li>
<li>字体配置（Font CFG）中主要配置项是Timeline View、Summary和Log显示的字体和字号。</li>
<li>路径配置（Path CFG）中主要配置项是生成文件存储路径，主要包括DB文件、远端连接下载的文件、日志文件、临时缓存文件、json文件的储存路径。默认存放在/user_dir/stcvprof/下对应的文件夹里。</li>
</ul>
<blockquote>
<p>说明：选择的储存路径权限受限时，输入框出现红边提示。</p>
</blockquote>
<p>配置项各项说明如下：</p>
<table><thead><tr><th><strong>配置项</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>LOAD_DATA_MODE</td><td>standard（默认）：标准模式，对应启动配置文件的LOAD_DATA_MODE=1。标准模式下，从多个数据文件加载数据后，每个数据文件都在内存中独立存在互不影响，在服务器内存充足的情况下可以提升stc-vprof的响应速度。<br>singleton：单窗口模式，对应启动配置文件的LOAD_DATA_MODE=0。单窗口模式下，从多个数据文件加载数据后，内存中始终只保留最近一次加载的数据，stc-vprof通过切换数据源获取渲染视图所需的数据，在主机内存不充足的情况下可以有效避免因数据文件过大造成的内存溢出。</td></tr><tr><td>CACHE</td><td>选中cache：开启缓存，对应启动配置文件的STARTUP_CACHE=1。开启缓存时，stc-vprof会使用主机的虚拟内存来保存从数据文件中加载的数据，并将一部分数据加载到内存中。<br>未选中cache（默认）：不开启缓存，对应启动配置文件的STARTUP_CACHE=0。</td></tr><tr><td>CHECKSUM</td><td>选中checksum：开启MD5校验，对应启动配置文件的CHECK_MD5=1，其中name和size为必选项，可选择是否使用MD5来检验文件内容是否改变。开启校验后，导入数据文件时进行MD5校验 ，如果两次数据文件相同，则会使用缓存数据文件。如果不一致，则会重新加载数据文件。<br>未选择checksum（默认）：不开启MD5校验，对应启动配置文件的CHECK_MD5=0。</td></tr><tr><td>GAP</td><td>选中automatic（默认）：自动调节GAP，对应启动配置文件的AUTO_DATA_GAP=1。自动调节GAP时，stc-vprof会自动调节分析结果页面中设备列表和时间轴图表的上下间距。<br>未选中automatic：手动调节GAP，对应启动配置文件的AUTO_DATA_GAP=0。</td></tr><tr><td>HW_ACCELS</td><td>选中opengl：开启硬件加速，对应启动配置文件的HW_ACCELS=1。开启硬件加速时，stc-vprof在渲染分析结果页面时会启用OpenGL硬件加速功能，从而提升渲染效率。<br>未选中opengl（默认）：不开启硬件加速，对应启动配置文件的HW_ACCELS=0。</td></tr><tr><td>TID_RENDER_SAMPLES</td><td>渲染时间轴图表时使用的数据采样率，采样率越大渲染出的图形越精细，在甘特图长度很短时也能正常显示。默认为500，对应启动配置文件的TID_RENDER_SAMPLES=500。目前采样率支持500、600、700、800、900、1000。</td></tr><tr><td>PRE_COUNT</td><td>Timeline渲染时时间轴预渲染长度。默认值为5，取值范围为5-50。</td></tr><tr><td>HOSTS</td><td>远程主机连接信息，多台主机中间用逗号隔开。例如：<code>HOSTS= xxxxxxx@x.x.x.x,xxxxxxx@x.x.x.1</code></td></tr><tr><td>ACTIVE_THEME</td><td>当前使用中的主题编号，0-Light、1-Dark、2-Metal、3-System。例如：<code>ACTIVE_THEME=0</code></td></tr><tr><td>TOOLBAR</td><td>当前Report界面显示的工具条中的工具项、1-显示、0-隐藏，多个工具项中间用逗号隔开，其中排列顺序从左到右对应工具栏配置页面的从上到下。例如：<code>TOOLBAR=view\:1,search\:1,vertical spacing\:1,marquee\:1,format\:1,restore\:1</code></td></tr><tr><td>SHOW_TIME_SCOPE</td><td>选中show time scope（默认）：导入json文件或者日志文件时，开启时间范围选择框，自行选择需要加载的时间段内的文件内容。对应启动配置文件的SHOW_TIME_SCOPE。<br>未选择show time scope：导入json文件或者日志文件时，不开启时间范围选择框。对应启动配置文件的SHOW_TIME_SCOPE。</td></tr></tbody></table>
<p>保存可视化配置页面中修改的配置项，自动会更新到配置文件中，配置文件为在<code>/&lt;user_dir&gt;/stcvprof/conf/stc-vprof.properties</code>。也可自行修改配置文件，重新打开stc-vprof工具配置项生效。</p>
<p>若删除配置文件，再次打开stc-vprof工具时，在原位置新建默认启动配置文件，工具的配置页面中的配置项也会被初始化。其中默认启动配置如下：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 0：单窗口式，1：标准模式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOAD_DATA_MODE=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 0：手动调节GAP，1：自动调节GAP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AUTO_DATA_GAP=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 0：没有开启缓存，1：开启缓存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">STARTUP_CACHE=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 0：没有开启硬件加速，1：开启硬件加速</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HW_ACCELS=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 500~1000，每个tid的最大采样渲染数量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TID_RENDER_SAMPLES=500</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="常见问题-1">常见问题<a href="#常见问题-1" class="hash-link" aria-label="Direct link to 常见问题" title="Direct link to 常见问题" translate="no">​</a></h3>
<ul>
<li>目前stc-vprof工具还提供查看用户手册功能，目前该功能属于试用功能，可保证基本功能但是没有经过完整测试，如有兴趣请联系希姆计算技术支持获取详细使用说明。</li>
<li>单台服务器同时只允许启动一个界面。如果已启动了stc-vprof，再次尝试启动时会出现以下报错。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-36-19a92529c10cfb2ccc3d2456764376ff.png" width="521" height="169" class="img_ev3q"></p>
<ul>
<li>如果文件类型不匹配，例如新建项目时选择并执行分析结果文件（.db、.json），则出现以下报错。分析结果文件（.db、.json）应该通过导入项目的形式打开，新建项目时需要选择可执行的目标程序，例如Python脚本、C++执行程序等。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="/assets/images/stc-vprof-37-152f0f85e950d433cec656241008dc3d.png" width="621" height="268" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/希姆计算软件产品/STCRP使用指南/HPE使用指南.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/希姆计算软件产品/STCRP产品简介"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">STCRP产品简介</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/希姆计算软件产品/STCRP使用指南/MLTC使用指南"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">MLTC使用指南</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#hpe概述" class="table-of-contents__link toc-highlight">HPE概述</a></li><li><a href="#前提条件" class="table-of-contents__link toc-highlight">前提条件</a></li><li><a href="#使用hpe-example体验异构编程" class="table-of-contents__link toc-highlight">使用hpe-example体验异构编程</a><ul><li><a href="#执行hpe-example" class="table-of-contents__link toc-highlight">执行hpe-example</a></li><li><a href="#hpe-example执行效果" class="table-of-contents__link toc-highlight">hpe-example执行效果</a></li></ul></li><li><a href="#使用stc-smi检测设备状态" class="table-of-contents__link toc-highlight">使用stc-smi检测设备状态</a><ul><li><a href="#命令说明" class="table-of-contents__link toc-highlight">命令说明</a></li><li><a href="#命令示例" class="table-of-contents__link toc-highlight">命令示例</a></li></ul></li><li><a href="#使用stc-gdb调试异构程序" class="table-of-contents__link toc-highlight">使用stc-gdb调试异构程序</a><ul><li><a href="#使用流程" class="table-of-contents__link toc-highlight">使用流程</a></li><li><a href="#自定义扩展调试命令" class="table-of-contents__link toc-highlight">自定义扩展调试命令</a></li><li><a href="#调试示例" class="table-of-contents__link toc-highlight">调试示例</a></li><li><a href="#常见问题" class="table-of-contents__link toc-highlight">常见问题</a></li><li><a href="#代码示例" class="table-of-contents__link toc-highlight">代码示例</a></li></ul></li><li><a href="#使用stc-prof获取性能数据核函数粒度" class="table-of-contents__link toc-highlight">使用stc-prof获取性能数据（核函数粒度）</a><ul><li><a href="#命令说明-1" class="table-of-contents__link toc-highlight">命令说明</a></li><li><a href="#使用流程-1" class="table-of-contents__link toc-highlight">使用流程</a></li><li><a href="#命令示例-1" class="table-of-contents__link toc-highlight">命令示例</a></li><li><a href="#代码示例-1" class="table-of-contents__link toc-highlight">代码示例</a></li></ul></li><li><a href="#使用stc-vprof可视化查看性能数据" class="table-of-contents__link toc-highlight">使用stc-vprof可视化查看性能数据</a><ul><li><a href="#前提条件-1" class="table-of-contents__link toc-highlight">前提条件</a></li><li><a href="#启动stc-vprof" class="table-of-contents__link toc-highlight">启动stc-vprof</a></li><li><a href="#管理项目和分析结果" class="table-of-contents__link toc-highlight">管理项目和分析结果</a></li><li><a href="#管理性能分析资源" class="table-of-contents__link toc-highlight">管理性能分析资源</a></li><li><a href="#查看性能分析结果" class="table-of-contents__link toc-highlight">查看性能分析结果</a></li><li><a href="#更多功能" class="table-of-contents__link toc-highlight">更多功能</a></li><li><a href="#配置项说明" class="table-of-contents__link toc-highlight">配置项说明</a></li><li><a href="#常见问题-1" class="table-of-contents__link toc-highlight">常见问题</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/希姆计算术语表">希姆计算术语</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>